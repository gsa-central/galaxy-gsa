(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1057:function(e,t,n){"use strict";var a=n(654);n.n(a).a},1061:function(e,t,n){"use strict";var a=n(659);n.n(a).a},592:function(e,t,n){"use strict";n.r(t);var a=n(656),l=n(24),i=n(2),s=n.n(i),r=n(8),o=n(15);r.default.use(o.a);var c={mixins:[a.a],created:function(){this._elementsSetUp()},data:function(){return{state:"build",errorText:s()("Galaxy could not be reached and may be updating.  Try again in a few minutes."),noElementsHeader:s()("No datasets were selected."),allInvalidElementsPartOne:s()("Exactly two elements needed for the collection. You may need to"),cancelText:s()("cancel"),allInvalidElementsPartTwo:s()("and reselect new elements."),exactlyTwoValidElementsPartOne:s()("Two (and only two) elements are needed for the pair. You may need to "),exactlyTwoValidElementsPartTwo:s()("and reselect new elements."),invalidHeader:s()("The following selections could not be included due to problems:"),minElements:2,workingElements:[],invalidElements:[]}},computed:{returnInvalidElementsLength:function(){return this.invalidElements.length>0},returnInvalidElements:function(){return this.invalidElements},allElementsAreInvalid:function(){return this.initialElements.length==this.invalidElements.length},noElementsSelected:function(){return 0==this.initialElements.length},exactlyTwoValidElements:function(){return 2==this.workingElements.length}},methods:{l:function(e){return s()(e)},_elementsSetUp:function(){this.invalidElements=[],this.workingElements=[],this.workingElements=this.initialElements.slice(0),this._ensureElementIds(),this._validateElements()},_ensureElementIds:function(){return this.workingElements.forEach((function(e){Object.prototype.hasOwnProperty.call(e,"id")||(e.id=e._uid)})),this.workingElements},_validateElements:function(){var e=this;return this.workingElements=this.workingElements.filter((function(t){var n=e._isElementInvalid(t);return n&&e.invalidElements.push(t.name+"  "+n),!n})),this.workingElements},_isElementInvalid:function(e){return"dataset_collection"===e.history_content_type?s()("is a collection, this is not allowed"):e.state===l.a.OK||l.a.NOT_READY_STATES.includes(e.state)?e.deleted||e.purged?s()("has been deleted or purged"):null:s()("has errored, is paused, or is not accessible")},swapButton:function(){this.workingElements=[this.workingElements[1],this.workingElements[0]]},clickedCreate:function(e){var t=this;if("error"!==this.state)return this.$emit("clicked-create",this.workingElements,this.collectionName,this.hideSourceItems),this.creationFn(this.workingElements,e,this.hideSourceItems).done(this.oncreate).fail((function(){t.state="error"}))},toString:function(){return"PairCollectionCreator"}}},d=(n(1061),n(5)),u=Object(d.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pair-collection-creator"},["error"==e.state?n("div",[n("b-alert",{attrs:{show:"",variant:"danger"}},[e._v("\n            "+e._s(e.errorText)+"\n        ")])],1):n("div",[e.noElementsSelected?n("div",[n("b-alert",{attrs:{show:"",variant:"warning",dismissible:""}},[e._v("\n                "+e._s(e.noElementsHeader)+"\n                "+e._s(e.allInvalidElementsPartOne)+"\n                "),n("a",{staticClass:"cancel-text",attrs:{href:"javascript:void(0)",role:"button"},on:{click:e.oncancel}},[e._v("\n                    "+e._s(e.cancelText)+"\n                ")]),e._v("\n                "+e._s(e.allInvalidElementsPartTwo)+"\n            ")]),e._v(" "),n("div",{staticClass:"float-left"},[n("button",{staticClass:"cancel-create btn",attrs:{tabindex:"-1"},on:{click:e.oncancel}},[e._v("\n                    "+e._s(e.l("Cancel"))+"\n                ")])])],1):e.allElementsAreInvalid?n("div",[n("b-alert",{attrs:{show:"",variant:"warning",dismissible:""}},[e._v("\n                "+e._s(e.invalidHeader)+"\n                "),n("ul",e._l(e.returnInvalidElements,(function(t){return n("li",{key:t},[e._v("\n                        "+e._s(t)+"\n                    ")])})),0),e._v("\n                "+e._s(e.allInvalidElementsPartOne)+"\n                "),n("a",{staticClass:"cancel-text",attrs:{href:"javascript:void(0)",role:"button"},on:{click:e.oncancel}},[e._v("\n                    "+e._s(e.cancelText)+"\n                ")]),e._v("\n                "+e._s(e.allInvalidElementsPartTwo)+"\n            ")]),e._v(" "),n("div",{staticClass:"float-left"},[n("button",{staticClass:"cancel-create btn",attrs:{tabindex:"-1"},on:{click:e.oncancel}},[e._v("\n                    "+e._s(e.l("Cancel"))+"\n                ")])])],1):e.exactlyTwoValidElements?n("div",[e.returnInvalidElementsLength?n("div",[n("b-alert",{attrs:{show:"",variant:"warning",dismissible:""}},[e._v("\n                    "+e._s(e.invalidHeader)+"\n                    "),n("ul",e._l(e.returnInvalidElements,(function(t){return n("li",{key:t},[e._v("\n                            "+e._s(t)+"\n                        ")])})),0)])],1):e._e(),e._v(" "),n("collection-creator",{attrs:{oncancel:e.oncancel,hideSourceItems:e.hideSourceItems,creationFn:e.creationFn},on:{onUpdateHideSourceItems:e.onUpdateHideSourceItems,"clicked-create":e.clickedCreate,"remove-extensions-toggle":e.removeExtensionsToggle},scopedSlots:e._u([{key:"help-content",fn:function(){return[n("p",[e._v("\n                        "+e._s(e.l(["Pair collections are permanent collections containing two datasets: one forward and one reverse. ","Often these are forward and reverse reads. The pair collections can be passed to tools and workflows in ","order to have analyses done on both datasets. This interface allows you to create a pair, name it, and ","swap which is forward and which reverse."].join("")))+"\n                    ")]),e._v(" "),n("ul",[n("li",[e._v("\n                            "+e._s(e.l("Click the "))+"\n                            "),n("i",{attrs:{"data-target":".swap"}},[e._v("\n                                "+e._s(e.l("Swap"))+"\n                            ")]),e._v("\n                            "+e._s(e.l("link to make your forward dataset the reverse and the reverse dataset forward"))+"\n                        ")]),e._v(" "),n("li",[e._v("\n                            "+e._s(e.l("Click the "))+"\n                            "),n("i",{attrs:{"data-target":".cancel-create"}},[e._v("\n                                "+e._s(e.l("Cancel"))+"\n                            ")]),e._v("\n                            "+e._s(e.l("button to exit the interface."))+"\n                        ")])]),e._v(" "),n("br"),e._v(" "),n("p",[e._v("\n                        "+e._s(e.l("Once your collection is complete, enter a "))+"\n                        "),n("i",{attrs:{"data-target":".collection-name"}},[e._v(" "+e._s(e.l("name")))]),e._v("\n                        "+e._s(e.l("and click "))+"\n                        "),n("i",{attrs:{"data-target":".create-collection"}},[e._v("\n                            "+e._s(e.l("Create list"))+"\n                        ")]),e._v("\n                        "+e._s(e.l("."))+"\n                    ")])]},proxy:!0},{key:"middle-content",fn:function(){return[n("div",{staticClass:"collection-elements-controls"},[n("a",{staticClass:"swap",attrs:{href:"javascript:void(0);",title:"l('Swap forward and reverse datasets')"},on:{click:e.swapButton}},[e._v("\n                            "+e._s(e.l("Swap"))+"\n                        ")])]),e._v(" "),n("div",{staticClass:"collection-elements scroll-container flex-row"},e._l(e.workingElements,(function(t,a){return n("div",{key:t.id,staticClass:"collection-element"},[e._v("\n                            "+e._s(0==a?e.l("forward"):e.l("reverse"))+": "+e._s(t.name)+"\n                        ")])})),0)]},proxy:!0}])})],1):n("div",[e.returnInvalidElementsLength?n("div",[n("b-alert",{attrs:{show:"",variant:"warning",dismissible:""}},[e._v("\n                    "+e._s(e.invalidHeader)+"\n                    "),n("ul",e._l(e.returnInvalidElements,(function(t){return n("li",{key:t},[e._v("\n                            "+e._s(t)+"\n                        ")])})),0)])],1):e._e(),e._v(" "),n("b-alert",{attrs:{show:"",variant:"warning",dismissible:""}},[e._v("\n                "+e._s(e.exactlyTwoValidElementsPartOne)+"\n                "),n("a",{staticClass:"cancel-text",attrs:{href:"javascript:void(0)",role:"button"},on:{click:e.oncancel}},[e._v("\n                    "+e._s(e.cancelText)+"\n                ")]),e._v("\n                "+e._s(e.exactlyTwoValidElementsPartTwo)+"\n            ")]),e._v(" "),n("div",{staticClass:"float-left"},[n("button",{staticClass:"cancel-create btn",attrs:{tabindex:"-1"},on:{click:e.oncancel}},[e._v("\n                    "+e._s(e.l("Cancel"))+"\n                ")])])],1)])])}),[],!1,null,null,null);t.default=u.exports},654:function(e,t,n){},656:function(e,t,n){"use strict";var a=n(2),l=n.n(a),i={props:{oncancel:{type:Function,required:!0},creationFn:{type:Function,required:!0},renderExtensionsToggle:{type:Boolean,default:!1},hideSourceItems:{type:Boolean,required:!0}},computed:{validInput:function(){return this.collectionName.length>0}},data:function(){return{titleForHelp:l()("Expand or Close Help"),hideOriginalsText:l()("Hide original elements?"),titleMoreHelp:l()("Close and show more help"),placeholderEnterName:l()("Enter a name for your new collection"),dropdownText:l()("Create a <i>single</> pair"),isExpanded:!1,collectionName:"",removeFileExtensionsText:"Remove file extensions?",localHideSourceItems:this.hideSourceItems}},methods:{l:function(e){return l()(e)},_clickForHelp:function(){return this.isExpanded=!this.isExpanded,this.isExpanded},_cancelCreate:function(){this.oncancel()},_getName:function(){return this.collectionName}},watch:{localHideSourceItems:function(){this.$emit("onUpdateHideSourceItems",this.localHideSourceItems)}}},s=(n(1057),n(5)),r=Object(s.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"collection-creator"},[n("div",{staticClass:"header flex-row no-flex"},[n("div",{staticClass:"main-help well clear",class:{expanded:e.isExpanded}},[n("a",{staticClass:"more-help",attrs:{href:"javascript:void(0);",role:"button",title:e.titleForHelp},on:{click:e._clickForHelp}},[e.isExpanded?n("div",[n("i",{staticClass:"fas fa-chevron-up"})]):n("div",[n("i",{staticClass:"fas fa-chevron-down"})])]),e._v(" "),n("div",{staticClass:"help-content"},[e._t("help-content"),e._v(" "),n("a",{staticClass:"more-help",attrs:{href:"javascript:void(0);",role:"button",title:e.titleForHelp},on:{click:e._clickForHelp}})],2)])]),e._v(" "),n("div",{staticClass:"middle flex-row flex-row-container"},[e._t("middle-content")],2),e._v(" "),n("div",{staticClass:"footer flex-row no-flex"},[n("div",{staticClass:"attributes clear"},[n("div",{staticClass:"clear"},[e.renderExtensionsToggle?n("label",{staticClass:"setting-prompt float-right"},[e._v("\n                    "+e._s(e.removeFileExtensionsText)+"\n                    "),n("input",{staticClass:"remove-extensions float-right",attrs:{type:"checkbox",checked:""},on:{click:function(t){return e.$emit("remove-extensions-toggle")}}})]):e._e(),e._v(" "),n("label",{staticClass:"setting-prompt float-right"},[e._v("\n                    "+e._s(e.hideOriginalsText)+"\n                    "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.localHideSourceItems,expression:"localHideSourceItems"}],staticClass:"hide-originals float-right",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.localHideSourceItems)?e._i(e.localHideSourceItems,null)>-1:e.localHideSourceItems},on:{change:function(t){var n=e.localHideSourceItems,a=t.target,l=!!a.checked;if(Array.isArray(n)){var i=e._i(n,null);a.checked?i<0&&(e.localHideSourceItems=n.concat([null])):i>-1&&(e.localHideSourceItems=n.slice(0,i).concat(n.slice(i+1)))}else e.localHideSourceItems=l}}})])]),e._v(" "),n("div",{staticClass:"clear"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.collectionName,expression:"collectionName"}],staticClass:"collection-name form-control float-right",attrs:{placeholder:e.placeholderEnterName},domProps:{value:e.collectionName},on:{input:function(t){t.target.composing||(e.collectionName=t.target.value)}}}),e._v(" "),n("div",{staticClass:"collection-name-prompt float-right"},[e._v("\n                    "+e._s(e.l("Name:"))+"\n                ")])])]),e._v(" "),n("div",{staticClass:"actions clear vertically-spaced"},[n("div",{staticClass:"float-left"},[n("button",{staticClass:"cancel-create btn",attrs:{tabindex:"-1"},on:{click:e._cancelCreate}},[e._v("\n                    "+e._s(e.l("Cancel"))+"\n                ")])]),e._v(" "),n("div",{staticClass:"main-options float-right"},[n("button",{staticClass:"create-collection btn btn-primary",attrs:{disabled:!e.validInput},on:{click:function(t){return e.$emit("clicked-create",e.collectionName)}}},[e._v("\n                    "+e._s(e.l("Create list"))+"\n                ")])])])])])}),[],!1,null,null,null).exports;t.a={components:{CollectionCreator:r},props:{initialElements:{required:!0,type:Array},creationFn:{type:Function,required:!0},oncancel:{type:Function,required:!0},oncreate:{type:Function,required:!0},defaultHideSourceItems:{type:Boolean,required:!1,default:!0}},data:function(){return{hideSourceItems:this.defaultHideSourceItems}},methods:{onUpdateHideSourceItems:function(e){this.hideSourceItems=e}}}},659:function(e,t,n){}}]);
//# sourceMappingURL=PairCollectionCreator.chunk.js.map