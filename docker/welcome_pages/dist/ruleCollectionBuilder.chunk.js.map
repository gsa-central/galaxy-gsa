{"version":3,"sources":["webpack:///./src/components/RuleBuilder/SavedRulesSelector.vue?e79d","webpack:///./src/components/RuleCollectionBuilder.vue?9f53","webpack:///./src/components/RuleCollectionBuilder.vue?6f17","webpack:///./src/components/RuleBuilder/ColumnSelector.vue?5e58","webpack:///src/components/RuleBuilder/ColumnSelector.vue","webpack:///./src/components/RuleBuilder/ColumnSelector.vue","webpack:///./src/components/RuleBuilder/ColumnSelector.vue?1d6b","webpack:///./src/components/RuleBuilder/RegularExpressionInput.vue?e31f","webpack:///src/components/RuleBuilder/RegularExpressionInput.vue","webpack:///./src/components/RuleBuilder/RegularExpressionInput.vue","webpack:///./src/components/RuleBuilder/RegularExpressionInput.vue?a6e1","webpack:///src/components/RuleBuilder/RuleDisplay.vue","webpack:///./src/components/RuleBuilder/RuleDisplay.vue?1ced","webpack:///./src/components/RuleBuilder/RuleDisplay.vue","webpack:///./src/components/RuleBuilder/RuleDisplay.vue?26ed","webpack:///src/components/RuleBuilder/IdentifierDisplay.vue","webpack:///./src/components/RuleBuilder/IdentifierDisplay.vue?8544","webpack:///./src/components/RuleBuilder/IdentifierDisplay.vue","webpack:///./src/components/RuleBuilder/IdentifierDisplay.vue?b865","webpack:///src/components/RuleBuilder/RuleTargetComponent.vue","webpack:///./src/components/RuleBuilder/RuleTargetComponent.vue?ed54","webpack:///./src/components/RuleBuilder/RuleTargetComponent.vue","webpack:///./src/components/RuleBuilder/RuleTargetComponent.vue?474f","webpack:///./src/components/RuleBuilder/RuleComponent.vue?e7ab","webpack:///src/components/RuleBuilder/RuleComponent.vue","webpack:///./src/components/RuleBuilder/RuleComponent.vue","webpack:///./src/components/RuleBuilder/RuleComponent.vue?8f45","webpack:///./src/components/RuleBuilder/RuleModalHeader.vue","webpack:///./src/components/RuleBuilder/RuleModalHeader.vue?a412","webpack:///./src/components/RuleBuilder/RuleModalMiddle.vue","webpack:///./src/components/RuleBuilder/RuleModalMiddle.vue?e6de","webpack:///./src/components/RuleBuilder/RuleModalFooter.vue","webpack:///./src/components/RuleBuilder/RuleModalFooter.vue?d796","webpack:///./src/components/RuleBuilder/StateDiv.vue","webpack:///./src/components/RuleBuilder/StateDiv.vue?b827","webpack:///src/components/RuleBuilder/SavedRulesSelector.vue","webpack:///./src/components/RuleBuilder/SavedRulesSelector.vue?b85e","webpack:///./src/components/RuleBuilder/SavedRulesSelector.vue","webpack:///./src/components/RuleBuilder/SavedRulesSelector.vue?9e4f","webpack:///./src/components/RuleBuilder/SaveRules.vue?bad0","webpack:///src/components/RuleBuilder/SaveRules.vue","webpack:///./src/components/RuleBuilder/SaveRules.vue","webpack:///./src/components/TooltipOnHover.vue?23bd","webpack:///src/components/TooltipOnHover.vue","webpack:///./src/components/TooltipOnHover.vue","webpack:///./src/components/TooltipOnHover.vue?3107","webpack:///src/components/RuleCollectionBuilder.vue","webpack:///./src/components/RuleCollectionBuilder.vue?b3b8","webpack:///./src/components/RuleCollectionBuilder.vue"],"names":["_vm","this","_h","$createElement","_c","_self","multiple","ordered","staticClass","_v","_s","label","_t","_l","targetEl","index","key","attrs","colHeaders","on","$event","handleRemove","moveUp","_e","target","length","orderedEdit","handleAdd","col","domProps","$emit","l","directives","name","rawName","modifiers","help","title","handleInput","value","expression","popoverTitle","editTitle","edit","removeTitle","remove","rule","warn","error","columnsLabel","typeDisplay","titleEdit","titleRemove","class","linkClassName","builder","addNewRule","ruleType","displayRuleType","typeToClass","cancel","cancelLabel","okay","applyLabel","disabled","numOfSavedRules","savedRulesMenu","session","dateTime","formatDate","state","ruleView","elementsType","importType","ruleSourceError","composing","ruleSource","vertical","orientation","initialElements","horizontal","addSortingTarget","activeRuleColHeaders","titleNumericSort","Array","isArray","addSortingNumeric","_i","$$a","$$el","$$c","checked","$$i","concat","slice","addColumnBasenameTarget","addColumnRownumStart","$$selectedVal","prototype","filter","call","options","o","selected","map","_value","addColumnMetadataValue","addColumnGroupTagValueValue","addColumnGroupTagValueDefault","addColumnRegexTarget","_q","addColumnRegexType","addColumnRegexExpression","addColumnRegexGroupCount","addColumnRegexReplacement","addColumnConcatenateTarget0","addColumnConcatenateTarget1","addColumnSubstrTarget","addColumnSubstrType","addColumnSubstrLength","addColumnValue","removeColumnTargets","splitColumnsTargets0","splitColumnsTargets1","swapColumnsTarget0","swapColumnsTarget1","addFilterRegexTarget","addFilterRegexExpression","titleInvertFilterRegex","addFilterRegexInvert","addFilterMatchesTarget","addFilterMatchesValue","titleInvertFilterMatches","addFilterMatchesInvert","addFilterCompareTarget","addFilterCompareType","addFilterCompareValue","addFilterCountWhich","addFilterCountN","addFilterCountInvert","addFilterEmptyTarget","titleInvertFilterEmpty","addFilterEmptyInvert","type","replace","mappingTargets","columns","editing","$set","titleRemoveMapping","removeMapping","unmappedTargets","addIdentifier","hasActiveMappingEdit","titleApplyColumnDefinitions","titleViewSource","viewSource","ref","savedRules","restoreRules","colHeadersPerRule","editRule","removeRule","_b","nativeOn","forEach","highlightColumn","unhighlightColumn","mapping","titleRulesMenu","titleFilterMenu","titleColumMenu","staticStyle","hotData","data","colHeadersDisplay","titleSourceCancel","cancelSourceEdit","titleSourceReset","titleSourceApply","attemptRulePreview","scopedSlots","_u","fn","hideSourceItems","extension","showFileTypeSelector","model","callback","$$v","id","genome","showGenomeSelector","addNameTag","namePlaceholder","collectionName","proxy","titleCancel","titleReset","resetRulesAndState","validInput","titleFinish","createCollection","finishButtonTitle","errorMessage","titleErrorOkay"],"mappings":"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","file":"ruleCollectionBuilder.chunk.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavedRulesSelector.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavedRulesSelector.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-0!../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-3!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleCollectionBuilder.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-0!../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-3!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleCollectionBuilder.vue?vue&type=style&index=1&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.state == 'build')?_c('state-div',[(_vm.ruleView == 'source')?_c('rule-modal-header',[_vm._v(\"Below is a raw JSON description of the rules to apply to the tabular data. This is an advanced\\n        setting.\")]):(_vm.elementsType == 'datasets' || _vm.elementsType == 'library_datasets')?_c('rule-modal-header',[_vm._v(\"\\n        Use this form to describe rules for building collection(s) from the specified datasets.\\n        \"),_c('b',[_vm._v(\"Be sure to specify at least one column as a list identifier\")]),_vm._v(\" - specify more to created nested list\\n        structures. Specify a column to serve as \\\"collection name\\\" to group datasets into multiple collections.\\n    \")]):(_vm.importType == 'datasets')?_c('rule-modal-header',[_vm._v(\"\\n        Use this form to describe rules for import datasets. At least one column should be defined to a source to\\n        fetch data from (URLs, FTP files, etc...).\\n    \")]):_c('rule-modal-header',[_vm._v(\"\\n        Use this form to describe rules for import datasets. At least one column should be defined to a source to\\n        fetch data from (URLs, FTP files, etc...).\\n        \"),_c('b',[_vm._v(\"Be sure to specify at least one column as a list identifier\")]),_vm._v(\" - specify more to created nested list\\n        structures. Specify a column to serve as \\\"collection name\\\" to group datasets into multiple collections.\\n    \")]),_vm._v(\" \"),(_vm.ruleView == 'source')?_c('rule-modal-middle',[(_vm.ruleSourceError)?_c('p',{staticClass:\"errormessagelarge\"},[_vm._v(_vm._s(_vm.ruleSourceError))]):_vm._e(),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.ruleSource),expression:\"ruleSource\"}],staticClass:\"rule-source\",domProps:{\"value\":(_vm.ruleSource)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.ruleSource=$event.target.value}}})]):_c('rule-modal-middle',[(_vm.ruleView == 'normal')?_c('div',{staticClass:\"rule-builder-body vertically-spaced\",class:{ 'flex-column-container': _vm.vertical }},[_c('div',{staticClass:\"rule-column\",class:_vm.orientation},[_c('div',{staticClass:\"rules-container\",class:{\n                        'rules-container-vertical': _vm.initialElements && _vm.vertical,\n                        'rules-container-horizontal': _vm.initialElements && _vm.horizontal,\n                        'rules-container-full': _vm.initialElements == null,\n                    }},[_c('rule-component',{attrs:{\"rule-type\":\"sort\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('column-selector',{attrs:{\"target\":_vm.addSortingTarget,\"col-headers\":_vm.activeRuleColHeaders},on:{\"update:target\":function($event){_vm.addSortingTarget=$event}}}),_vm._v(\" \"),_c('label',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"title\":_vm.titleNumericSort}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addSortingNumeric),expression:\"addSortingNumeric\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.addSortingNumeric)?_vm._i(_vm.addSortingNumeric,null)>-1:(_vm.addSortingNumeric)},on:{\"change\":function($event){var $$a=_vm.addSortingNumeric,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.addSortingNumeric=$$a.concat([$$v]))}else{$$i>-1&&(_vm.addSortingNumeric=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.addSortingNumeric=$$c}}}}),_vm._v(\"\\n                            \"+_vm._s(_vm.l(\"Numeric sorting.\"))+\"\\n                        \")])],1),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_column_basename\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('column-selector',{attrs:{\"target\":_vm.addColumnBasenameTarget,\"col-headers\":_vm.activeRuleColHeaders},on:{\"update:target\":function($event){_vm.addColumnBasenameTarget=$event}}})],1),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_column_rownum\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('label',[_vm._v(\"\\n                            \"+_vm._s(_vm.l(\"Starting from\"))+\"\\n                            \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addColumnRownumStart),expression:\"addColumnRownumStart\"}],attrs:{\"type\":\"number\",\"min\":\"0\"},domProps:{\"value\":(_vm.addColumnRownumStart)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addColumnRownumStart=$event.target.value}}})])]),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_column_metadata\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('label',[_vm._v(\"\\n                            \"+_vm._s(_vm.l(\"For\"))+\"\\n                            \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addColumnMetadataValue),expression:\"addColumnMetadataValue\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.addColumnMetadataValue=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.metadataOptions),function(col,index){return _c('option',{domProps:{\"value\":index}},[_vm._v(_vm._s(col))])}),0)])]),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_column_group_tag_value\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('label',[_vm._v(\"\\n                            \"+_vm._s(_vm.l(\"Value\"))+\"\\n                            \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addColumnGroupTagValueValue),expression:\"addColumnGroupTagValueValue\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.addColumnGroupTagValueValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addColumnGroupTagValueValue=$event.target.value}}})]),_vm._v(\" \"),_c('label',[_vm._v(\"\\n                            \"+_vm._s(_vm.l(\"Default\"))+\"\\n                            \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addColumnGroupTagValueDefault),expression:\"addColumnGroupTagValueDefault\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.addColumnGroupTagValueDefault)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addColumnGroupTagValueDefault=$event.target.value}}})])]),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_column_regex\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('column-selector',{attrs:{\"target\":_vm.addColumnRegexTarget,\"col-headers\":_vm.activeRuleColHeaders},on:{\"update:target\":function($event){_vm.addColumnRegexTarget=$event}}}),_vm._v(\" \"),_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addColumnRegexType),expression:\"addColumnRegexType\"}],attrs:{\"type\":\"radio\",\"value\":\"global\"},domProps:{\"checked\":_vm._q(_vm.addColumnRegexType,\"global\")},on:{\"change\":function($event){_vm.addColumnRegexType=\"global\"}}}),_vm._v(\"Create column matching\\n                            expression.\\n                        \")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addColumnRegexType),expression:\"addColumnRegexType\"}],attrs:{\"type\":\"radio\",\"value\":\"groups\"},domProps:{\"checked\":_vm._q(_vm.addColumnRegexType,\"groups\")},on:{\"change\":function($event){_vm.addColumnRegexType=\"groups\"}}}),_vm._v(\"Create columns\\n                            matching expression groups.\\n                        \")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addColumnRegexType),expression:\"addColumnRegexType\"}],attrs:{\"type\":\"radio\",\"value\":\"replacement\"},domProps:{\"checked\":_vm._q(_vm.addColumnRegexType,\"replacement\")},on:{\"change\":function($event){_vm.addColumnRegexType=\"replacement\"}}}),_vm._v(\"Create column\\n                            from expression replacement.\\n                        \")]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('regular-expression-input',{attrs:{\"target\":_vm.addColumnRegexExpression},on:{\"update:target\":function($event){_vm.addColumnRegexExpression=$event}}}),_vm._v(\" \"),(_vm.addColumnRegexType == 'groups')?_c('label',[_vm._v(\"\\n                            \"+_vm._s(_vm.l(\"Number of Groups\"))+\"\\n                            \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addColumnRegexGroupCount),expression:\"addColumnRegexGroupCount\"}],attrs:{\"type\":\"number\",\"min\":\"1\"},domProps:{\"value\":(_vm.addColumnRegexGroupCount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addColumnRegexGroupCount=$event.target.value}}})]):_vm._e(),_vm._v(\" \"),(_vm.addColumnRegexType == 'replacement')?_c('label',[_vm._v(\"\\n                            \"+_vm._s(_vm.l(\"Replacement Expression\"))+\"\\n                            \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addColumnRegexReplacement),expression:\"addColumnRegexReplacement\"}],staticClass:\"rule-replacement\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.addColumnRegexReplacement)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addColumnRegexReplacement=$event.target.value}}})]):_vm._e()],1),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_column_concatenate\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('column-selector',{attrs:{\"target\":_vm.addColumnConcatenateTarget0,\"col-headers\":_vm.activeRuleColHeaders},on:{\"update:target\":function($event){_vm.addColumnConcatenateTarget0=$event}}}),_vm._v(\" \"),_c('column-selector',{attrs:{\"target\":_vm.addColumnConcatenateTarget1,\"col-headers\":_vm.activeRuleColHeaders},on:{\"update:target\":function($event){_vm.addColumnConcatenateTarget1=$event}}})],1),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_column_substr\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('column-selector',{attrs:{\"target\":_vm.addColumnSubstrTarget,\"col-headers\":_vm.activeRuleColHeaders},on:{\"update:target\":function($event){_vm.addColumnSubstrTarget=$event}}}),_vm._v(\" \"),_c('label',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addColumnSubstrType),expression:\"addColumnSubstrType\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.addColumnSubstrType=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"keep_prefix\"}},[_vm._v(\"Keep only prefix specified.\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"drop_prefix\"}},[_vm._v(\"Strip off prefix specified.\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"keep_suffix\"}},[_vm._v(\"Keep only suffix specified.\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"drop_suffix\"}},[_vm._v(\"Strip off suffix specified.\")])])]),_vm._v(\" \"),_c('label',[_vm._v(\"\\n                            \"+_vm._s(_vm.l(\"Prefix or suffix length\"))+\"\\n                            \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addColumnSubstrLength),expression:\"addColumnSubstrLength\"}],attrs:{\"type\":\"number\",\"min\":\"0\"},domProps:{\"value\":(_vm.addColumnSubstrLength)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addColumnSubstrLength=$event.target.value}}})])],1),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_column_value\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('label',[_vm._v(\"\\n                            \"+_vm._s(_vm.l(\"Value\"))+\"\\n                            \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addColumnValue),expression:\"addColumnValue\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.addColumnValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addColumnValue=$event.target.value}}})])]),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"remove_columns\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('column-selector',{attrs:{\"target\":_vm.removeColumnTargets,\"col-headers\":_vm.activeRuleColHeaders,\"multiple\":true},on:{\"update:target\":function($event){_vm.removeColumnTargets=$event}}})],1),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"split_columns\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('column-selector',{attrs:{\"target\":_vm.splitColumnsTargets0,\"label\":\"Odd Row Column(s)\",\"col-headers\":_vm.activeRuleColHeaders,\"multiple\":true},on:{\"update:target\":function($event){_vm.splitColumnsTargets0=$event}}}),_vm._v(\" \"),_c('column-selector',{attrs:{\"target\":_vm.splitColumnsTargets1,\"label\":\"Even Row Column(s)\",\"col-headers\":_vm.activeRuleColHeaders,\"multiple\":true},on:{\"update:target\":function($event){_vm.splitColumnsTargets1=$event}}})],1),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"swap_columns\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('column-selector',{attrs:{\"target\":_vm.swapColumnsTarget0,\"label\":\"Swap Column\",\"col-headers\":_vm.activeRuleColHeaders},on:{\"update:target\":function($event){_vm.swapColumnsTarget0=$event}}}),_vm._v(\" \"),_c('column-selector',{attrs:{\"target\":_vm.swapColumnsTarget1,\"label\":\"With Column\",\"col-headers\":_vm.activeRuleColHeaders},on:{\"update:target\":function($event){_vm.swapColumnsTarget1=$event}}})],1),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_filter_regex\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('column-selector',{attrs:{\"target\":_vm.addFilterRegexTarget,\"col-headers\":_vm.activeRuleColHeaders},on:{\"update:target\":function($event){_vm.addFilterRegexTarget=$event}}}),_vm._v(\" \"),_c('regular-expression-input',{attrs:{\"target\":_vm.addFilterRegexExpression},on:{\"update:target\":function($event){_vm.addFilterRegexExpression=$event}}}),_vm._v(\" \"),_c('label',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"title\":_vm.titleInvertFilterRegex}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addFilterRegexInvert),expression:\"addFilterRegexInvert\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.addFilterRegexInvert)?_vm._i(_vm.addFilterRegexInvert,null)>-1:(_vm.addFilterRegexInvert)},on:{\"change\":function($event){var $$a=_vm.addFilterRegexInvert,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.addFilterRegexInvert=$$a.concat([$$v]))}else{$$i>-1&&(_vm.addFilterRegexInvert=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.addFilterRegexInvert=$$c}}}}),_vm._v(\"\\n                            \"+_vm._s(_vm.l(\"Invert filter.\"))+\"\\n                        \")])],1),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_filter_matches\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('column-selector',{attrs:{\"target\":_vm.addFilterMatchesTarget,\"col-headers\":_vm.activeRuleColHeaders},on:{\"update:target\":function($event){_vm.addFilterMatchesTarget=$event}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addFilterMatchesValue),expression:\"addFilterMatchesValue\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.addFilterMatchesValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addFilterMatchesValue=$event.target.value}}}),_vm._v(\" \"),_c('label',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"title\":_vm.titleInvertFilterMatches}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addFilterMatchesInvert),expression:\"addFilterMatchesInvert\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.addFilterMatchesInvert)?_vm._i(_vm.addFilterMatchesInvert,null)>-1:(_vm.addFilterMatchesInvert)},on:{\"change\":function($event){var $$a=_vm.addFilterMatchesInvert,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.addFilterMatchesInvert=$$a.concat([$$v]))}else{$$i>-1&&(_vm.addFilterMatchesInvert=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.addFilterMatchesInvert=$$c}}}}),_vm._v(\"\\n                            \"+_vm._s(_vm.l(\"Invert filter.\"))+\"\\n                        \")])],1),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_filter_compare\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('column-selector',{attrs:{\"target\":_vm.addFilterCompareTarget,\"col-headers\":_vm.activeRuleColHeaders},on:{\"update:target\":function($event){_vm.addFilterCompareTarget=$event}}}),_vm._v(\" \"),_c('label',[_vm._v(\"\\n                            Filter out rows\\n                            \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addFilterCompareType),expression:\"addFilterCompareType\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.addFilterCompareType=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"less_than\"}},[_vm._v(_vm._s(_vm.l(\"less than\")))]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"less_than_equal\"}},[_vm._v(_vm._s(_vm.l(\"less than or equal to\")))]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"greater_than\"}},[_vm._v(_vm._s(_vm.l(\"greater than\")))]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"greater_than_equal\"}},[_vm._v(_vm._s(_vm.l(\"greater than or equal to\")))])])]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addFilterCompareValue),expression:\"addFilterCompareValue\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.addFilterCompareValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addFilterCompareValue=$event.target.value}}})],1),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_filter_count\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('label',[_vm._v(\"\\n                            Filter which rows?\\n                            \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addFilterCountWhich),expression:\"addFilterCountWhich\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.addFilterCountWhich=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"first\"}},[_vm._v(\"first\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"last\"}},[_vm._v(\"last\")])])]),_vm._v(\" \"),_c('label',[_vm._v(\"\\n                            Filter how many rows?\\n                            \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addFilterCountN),expression:\"addFilterCountN\"}],attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.addFilterCountN)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.addFilterCountN=$event.target.value}}})]),_vm._v(\" \"),_c('label',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"title\":_vm.titleInvertFilterMatches}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addFilterCountInvert),expression:\"addFilterCountInvert\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.addFilterCountInvert)?_vm._i(_vm.addFilterCountInvert,null)>-1:(_vm.addFilterCountInvert)},on:{\"change\":function($event){var $$a=_vm.addFilterCountInvert,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.addFilterCountInvert=$$a.concat([$$v]))}else{$$i>-1&&(_vm.addFilterCountInvert=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.addFilterCountInvert=$$c}}}}),_vm._v(\"\\n                            \"+_vm._s(_vm.l(\"Invert filter.\"))+\"\\n                        \")])]),_vm._v(\" \"),_c('rule-component',{attrs:{\"rule-type\":\"add_filter_empty\",\"display-rule-type\":_vm.displayRuleType,\"builder\":this}},[_c('column-selector',{attrs:{\"target\":_vm.addFilterEmptyTarget,\"col-headers\":_vm.activeRuleColHeaders},on:{\"update:target\":function($event){_vm.addFilterEmptyTarget=$event}}}),_vm._v(\" \"),_c('label',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"title\":_vm.titleInvertFilterEmpty}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addFilterEmptyInvert),expression:\"addFilterEmptyInvert\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.addFilterEmptyInvert)?_vm._i(_vm.addFilterEmptyInvert,null)>-1:(_vm.addFilterEmptyInvert)},on:{\"change\":function($event){var $$a=_vm.addFilterEmptyInvert,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.addFilterEmptyInvert=$$a.concat([$$v]))}else{$$i>-1&&(_vm.addFilterEmptyInvert=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.addFilterEmptyInvert=$$c}}}}),_vm._v(\"\\n                            \"+_vm._s(_vm.l(\"Invert filter.\"))+\"\\n                        \")])],1),_vm._v(\" \"),(_vm.displayRuleType == 'mapping')?_c('div',[_vm._l((_vm.mapping),function(map,index){return _c('div',{key:map.type,staticClass:\"map\",attrs:{\"index\":index}},[_c('column-selector',{class:'rule-map-' + map.type.replace(/_/g, '-'),attrs:{\"label\":_vm.mappingTargets()[map.type].label,\"help\":_vm.mappingTargets()[map.type].help,\"target\":map.columns,\"ordered-edit\":map.editing,\"col-headers\":_vm.colHeaders,\"multiple\":_vm.mappingTargets()[map.type].multiple,\"ordered\":true,\"value-as-list\":true},on:{\"update:target\":function($event){return _vm.$set(map, \"columns\", $event)},\"update:orderedEdit\":function($event){return _vm.$set(map, \"editing\", $event)},\"update:ordered-edit\":function($event){return _vm.$set(map, \"editing\", $event)}}},[_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"fa fa-times\",attrs:{\"title\":_vm.titleRemoveMapping},on:{\"click\":function($event){return _vm.removeMapping(index)}}})])],1)}),_vm._v(\" \"),_c('div',{staticClass:\"buttons rule-edit-buttons d-flex justify-content-end\"},[(_vm.unmappedTargets.length > 0)?_c('button',{staticClass:\"dropdown-toggle btn btn-primary mr-1\",attrs:{\"type\":\"button\",\"data-toggle\":\"dropdown\"}},[_c('span',{staticClass:\"fa fa-plus rule-add-mapping\"}),_vm._v(\"\\n                                \"+_vm._s(\"Add Definition\")+\"\\n                                \"),_c('span',{staticClass:\"caret\"})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"dropdown-menu\",attrs:{\"role\":\"menu\"}},_vm._l((_vm.unmappedTargets),function(target){return _c('a',{key:target,staticClass:\"dropdown-item\",class:'rule-add-mapping-' + target.replace(/_/g, '-'),attrs:{\"index\":target,\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.addIdentifier(target)}}},[_vm._v(_vm._s(_vm.mappingTargets()[target].label))])}),0),_vm._v(\" \"),(!_vm.hasActiveMappingEdit)?_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.bottom\",modifiers:{\"hover\":true,\"bottom\":true}}],staticClass:\"rule-mapping-ok\",attrs:{\"title\":_vm.titleApplyColumnDefinitions},on:{\"click\":function($event){_vm.displayRuleType = null}}},[_vm._v(_vm._s(_vm.l(\"Apply\")))]):_vm._e()],1)],2):_vm._e(),_vm._v(\" \"),(_vm.displayRuleType == null)?_c('div',{staticClass:\"rule-summary\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"\\n                            \"+_vm._s(_vm.l(\"Rules\"))+\"\\n                            \"),_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"fa fa-wrench rule-builder-view-source\",attrs:{\"title\":_vm.titleViewSource},on:{\"click\":_vm.viewSource}}),_vm._v(\" \"),_c('saved-rules-selector',{ref:\"savedRulesSelector\",attrs:{\"savedRules\":this.savedRules},on:{\"update-rules\":_vm.restoreRules}})],1),_vm._v(\" \"),(_vm.jaggedData)?_c('div',{staticClass:\"rule-warning\"},[_vm._v(\"\\n                            Rows contain differing numbers of columns, there was likely a problem parsing your data.\\n                        \")]):_vm._e(),_vm._v(\" \"),_c('ol',{staticClass:\"rules\"},[_vm._l((_vm.rules),function(rule,index){return _c('rule-display',{key:index,attrs:{\"rule\":rule,\"index\":index,\"col-headers\":_vm.colHeadersPerRule[index]},on:{\"edit\":function($event){return _vm.editRule(rule, index)},\"remove\":function($event){return _vm.removeRule(index)}}})}),_vm._v(\" \"),_vm._l((_vm.mapping),function(map,index){return _c('identifier-display',_vm._b({key:map.type,attrs:{\"index\":index,\"col-headers\":_vm.colHeaders},on:{\"remove\":function($event){return _vm.removeMapping(index)},\"edit\":function($event){_vm.displayRuleType = 'mapping'}},nativeOn:{\"mouseover\":function($event){map.columns.forEach(function (col) { return _vm.highlightColumn(col); })},\"mouseout\":function($event){map.columns.forEach(function (col) { return _vm.unhighlightColumn(col); })}}},'identifier-display',map,false))}),_vm._v(\" \"),(_vm.mapping.length == 0)?_c('div',[_vm._v(\"\\n                                One or more column definitions must be specified. These are required to specify how\\n                                to build collections and datasets from rows and columns of the table.\\n                                \"),_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.displayRuleType = 'mapping'}}},[_vm._v(\"Click here\")]),_vm._v(\" to\\n                                manage column definitions.\\n                            \")]):_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"rules-buttons btn-group\"},[_c('div',{staticClass:\"dropup\"},[_c('button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.bottom\",modifiers:{\"hover\":true,\"bottom\":true}}],staticClass:\"rule-menu-rules-button primary-button dropdown-toggle\",attrs:{\"type\":\"button\",\"title\":_vm.titleRulesMenu,\"data-toggle\":\"dropdown\"}},[_c('span',{staticClass:\"fa fa-plus\"}),_vm._v(\"\\n                                    \"+_vm._s(_vm.l(\"Rules\"))+\"\\n                                    \"),_c('span',{staticClass:\"caret\"})]),_vm._v(\" \"),_c('div',{staticClass:\"dropdown-menu\",attrs:{\"role\":\"menu\"}},[_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"sort\"}}),_vm._v(\" \"),_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"remove_columns\"}}),_vm._v(\" \"),_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"split_columns\"}}),_vm._v(\" \"),_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"swap_columns\"}}),_vm._v(\" \"),_c('a',{staticClass:\"dropdown-item rule-link rule-link-mapping\",attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){_vm.displayRuleType = 'mapping'}}},[_vm._v(\"Add / Modify Column Definitions\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"dropup\"},[_c('button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.bottom\",modifiers:{\"hover\":true,\"bottom\":true}}],staticClass:\"rule-menu-filter-button primary-button dropdown-toggle\",attrs:{\"type\":\"button\",\"title\":_vm.titleFilterMenu,\"data-toggle\":\"dropdown\"}},[_c('span',{staticClass:\"fa fa-plus\"}),_vm._v(\"\\n                                    \"+_vm._s(_vm.l(\"Filter\"))+\"\\n                                    \"),_c('span',{staticClass:\"caret\"})]),_vm._v(\" \"),_c('div',{staticClass:\"dropdown-menu\",attrs:{\"role\":\"menu\"}},[_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_filter_regex\"}}),_vm._v(\" \"),_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_filter_matches\"}}),_vm._v(\" \"),_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_filter_compare\"}}),_vm._v(\" \"),_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_filter_empty\"}}),_vm._v(\" \"),_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_filter_count\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"dropup\"},[_c('button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.bottom\",modifiers:{\"hover\":true,\"bottom\":true}}],staticClass:\"rule-menu-column-button primary-button dropdown-toggle\",attrs:{\"type\":\"button\",\"title\":_vm.titleColumMenu,\"data-toggle\":\"dropdown\"}},[_c('span',{staticClass:\"fa fa-plus\"}),_vm._v(\"\\n                                    \"+_vm._s(_vm.l(\"Column\"))+\"\\n                                    \"),_c('span',{staticClass:\"caret\"})]),_vm._v(\" \"),_c('div',{staticClass:\"dropdown-menu\",attrs:{\"role\":\"menu\"}},[_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_column_basename\"}}),_vm._v(\" \"),(_vm.metadataOptions)?_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_column_metadata\"}}):_vm._e(),_vm._v(\" \"),(_vm.hasTagsMetadata)?_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_column_group_tag_value\"}}):_vm._e(),_vm._v(\" \"),_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_column_regex\"}}),_vm._v(\" \"),_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_column_concatenate\"}}),_vm._v(\" \"),_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_column_rownum\"}}),_vm._v(\" \"),_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_column_value\"}}),_vm._v(\" \"),_c('rule-target-component',{attrs:{\"builder\":this,\"rule-type\":\"add_column_substr\"}})],1)])])]):_vm._e()],1)]),_vm._v(\" \"),(_vm.initialElements !== null)?_c('div',{staticClass:\"table-column\",class:_vm.orientation,staticStyle:{\"width\":\"100%\"}},[_c('hot-table',{ref:\"hotTable\",attrs:{\"id\":\"hot-table\",\"data\":_vm.hotData.data,\"col-headers\":_vm.colHeadersDisplay,\"read-only\":true,\"stretch-h\":\"all\"}})],1):_vm._e()]):_vm._e()]),_vm._v(\" \"),(_vm.ruleView == 'source')?_c('rule-modal-footer',[_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"rule-btn-cancel\",attrs:{\"title\":_vm.titleSourceCancel},on:{\"click\":_vm.cancelSourceEdit}},[_vm._v(_vm._s(_vm.l(\"Cancel\")))]),_vm._v(\" \"),_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"creator-reset-btn rule-btn-reset\",attrs:{\"title\":_vm.titleSourceReset}},[_vm._v(_vm._s(_vm.l(\"Reset\")))]),_vm._v(\" \"),_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"rule-btn-okay\",attrs:{\"title\":_vm.titleSourceApply},on:{\"click\":_vm.attemptRulePreview}},[_vm._v(_vm._s(_vm.l(\"Apply\")))])],1):(_vm.ruleView == 'normal')?_c('rule-modal-footer',{scopedSlots:_vm._u([{key:\"inputs\",fn:function(){return [_c('div',{staticClass:\"rule-footer-inputs\"},[(_vm.elementsType == 'datasets')?_c('label',[_vm._v(_vm._s(_vm.l(\"Hide original elements\"))+\":\")]):_vm._e(),_vm._v(\" \"),(_vm.elementsType == 'datasets')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.hideSourceItems),expression:\"hideSourceItems\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.hideSourceItems)?_vm._i(_vm.hideSourceItems,null)>-1:(_vm.hideSourceItems)},on:{\"change\":function($event){var $$a=_vm.hideSourceItems,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.hideSourceItems=$$a.concat([$$v]))}else{$$i>-1&&(_vm.hideSourceItems=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.hideSourceItems=$$c}}}}):_vm._e(),_vm._v(\" \"),(_vm.extension && _vm.showFileTypeSelector)?_c('div',{staticClass:\"rule-footer-extension-group\"},[_c('label',[_vm._v(_vm._s(_vm.l(\"Type\"))+\":\")]),_vm._v(\" \"),_c('select2',{staticClass:\"extension-select\",attrs:{\"name\":\"extension\"},model:{value:(_vm.extension),callback:function ($$v) {_vm.extension=$$v},expression:\"extension\"}},_vm._l((_vm.extensions),function(col){return _c('option',{key:col.id,domProps:{\"value\":col['id']}},[_vm._v(\"\\n                            \"+_vm._s(col[\"text\"])+\"\\n                        \")])}),0)],1):_vm._e(),_vm._v(\" \"),(_vm.genome && _vm.showGenomeSelector)?_c('div',{staticClass:\"rule-footer-genome-group\"},[_c('label',[_vm._v(_vm._s(_vm.l(\"Genome\"))+\":\")]),_vm._v(\" \"),_c('select2',{staticClass:\"genome-select\",model:{value:(_vm.genome),callback:function ($$v) {_vm.genome=$$v},expression:\"genome\"}},_vm._l((_vm.genomes),function(col){return _c('option',{key:col.id,domProps:{\"value\":col['id']}},[_vm._v(_vm._s(col[\"text\"]))])}),0)],1):_vm._e(),_vm._v(\" \"),(_vm.showAddNameTag)?_c('label',[_vm._v(_vm._s(_vm.l(\"Add nametag for name\"))+\":\")]):_vm._e(),_vm._v(\" \"),(_vm.showAddNameTag)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addNameTag),expression:\"addNameTag\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.addNameTag)?_vm._i(_vm.addNameTag,null)>-1:(_vm.addNameTag)},on:{\"change\":function($event){var $$a=_vm.addNameTag,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.addNameTag=$$a.concat([$$v]))}else{$$i>-1&&(_vm.addNameTag=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.addNameTag=$$c}}}}):_vm._e(),_vm._v(\" \"),(_vm.showCollectionNameInput)?_c('div',{staticClass:\"rule-footer-name-group\"},[_c('b-input',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"collection-name\",attrs:{\"placeholder\":_vm.namePlaceholder,\"title\":_vm.namePlaceholder},model:{value:(_vm.collectionName),callback:function ($$v) {_vm.collectionName=$$v},expression:\"collectionName\"}}),_vm._v(\" \"),_c('label',[_vm._v(_vm._s(_vm.l(\"Name\"))+\":\")])],1):_vm._e()])]},proxy:true}],null,false,1838071961)},[_vm._v(\" \"),_c('b-row',{staticClass:\"mx-auto\"},[_c('b-button',{staticClass:\"creator-cancel-btn rule-btn-cancel\",attrs:{\"help\":_vm.titleCancel,\"tabindex\":\"-1\"},on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.l(\"Cancel\")))]),_vm._v(\" \"),_c('tooltip-on-hover',{staticClass:\"menu-option\",attrs:{\"title\":_vm.titleReset}},[_c('b-button',{staticClass:\"creator-reset-btn rule-btn-reset\",on:{\"click\":_vm.resetRulesAndState}},[_vm._v(_vm._s(_vm.l(\"Reset\")))])],1),_vm._v(\" \"),_c('tooltip-on-hover',{staticClass:\"menu-option\",attrs:{\"disabled\":!_vm.validInput,\"title\":_vm.titleFinish}},[_c('b-button',{staticClass:\"create-collection rule-btn-okay\",attrs:{\"variant\":\"primary\",\"disabled\":!_vm.validInput},on:{\"click\":_vm.createCollection}},[_vm._v(_vm._s(_vm.finishButtonTitle))])],1)],1)],1):_vm._e()],1):(_vm.state == 'wait')?_c('state-div',[(_vm.importType == 'datasets')?_c('rule-modal-header',[_vm._v(\"\\n        \"+_vm._s(_vm.l(\n                \"Datasets submitted to Galaxy for creation, this dialog will close when dataset creation is complete. You may close this dialog at any time, but you will not be informed of errors with dataset creation and you may have to refresh your history manually to view new datasets once complete.\"\n            ))+\"\\n    \")]):(_vm.importType == 'collections')?_c('rule-modal-header',[_vm._v(\"\\n        \"+_vm._s(_vm.l(\n                \"Galaxy is waiting for collection creation, this dialog will close when this is complete. You may close this dialog at any time, but you will not be informed of errors with collection creation and you may have to refresh your history manually to view new collections once complete.\"\n            ))+\"\\n    \")]):_vm._e(),_vm._v(\" \"),_c('rule-modal-footer',[_c('b-button',{staticClass:\"creator-cancel-btn\",attrs:{\"tabindex\":\"-1\"},on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.l(\"Close\")))])],1)],1):(_vm.state == 'error')?_c('state-div',[_c('rule-modal-header',[_vm._v(\"A problem was encountered.\")]),_vm._v(\" \"),_c('rule-modal-middle',[_c('p',{staticClass:\"errormessagelarge\"},[_vm._v(_vm._s(_vm.errorMessage))])]),_vm._v(\" \"),_c('rule-modal-footer',[_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"creator-cancel-btn\",attrs:{\"title\":_vm.titleCancel,\"tabindex\":\"-1\"},on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.l(\"Close\")))]),_vm._v(\" \"),_c('b-button',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"title\":_vm.titleErrorOkay,\"tabindex\":\"-1\"},on:{\"click\":function($event){_vm.state = 'build'}}},[_vm._v(_vm._s(_vm.l(\"Okay\")))])],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColumnSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColumnSelector.vue?vue&type=script&lang=js&\"","<template>\n    <div class=\"rule-column-selector\" v-if=\"!multiple || !ordered\">\n        <label class=\"d-flex justify-content-end align-items-center\">\n            <span class=\"mr-auto\" v-b-tooltip.hover :title=\"help\">{{ label }}</span>\n            <div class=\"mr-1\" v-b-tooltip.hover :title=\"title\">\n                <select2 :value=\"target\" @input=\"handleInput\" :multiple=\"multiple\">\n                    <option v-for=\"(col, index) in colHeaders\" :value=\"index\" :key=\"col\">{{ col }}</option>\n                </select2>\n            </div>\n            <slot></slot>\n        </label>\n    </div>\n    <div class=\"rule-column-selector\" v-else>\n        <span>{{ label }}</span>\n        <slot></slot>\n        <ol>\n            <li v-for=\"(targetEl, index) in target\" :index=\"index\" :key=\"targetEl\" class=\"rule-column-selector-target\">\n                {{ colHeaders[targetEl] }}\n                <span class=\"fa fa-times rule-column-selector-target-remove\" @click=\"handleRemove(index)\"></span>\n                <span class=\"fa fa-arrow-up rule-column-selector-up\" v-if=\"index !== 0\" @click=\"moveUp(index)\"></span>\n                <span\n                    class=\"fa fa-arrow-down rule-column-selector-down\"\n                    v-if=\"index < target.length - 1\"\n                    @click=\"moveUp(index + 1)\"\n                ></span>\n            </li>\n            <li v-if=\"this.target.length < this.colHeaders.length\">\n                <span class=\"rule-column-selector-target-add\" v-if=\"!orderedEdit\">\n                    <i @click=\"$emit('update:orderedEdit', true)\">... {{ l(\"Assign Another Column\") }}</i>\n                </span>\n                <span class=\"rule-column-selector-target-select\" v-else>\n                    <select2 @input=\"handleAdd\" placeholder=\"Select a column\">\n                        <option /><!-- empty option selection for placeholder -->\n                        <option v-for=\"(col, index) in remainingHeaders\" :value=\"index\" :key=\"col\">{{ col }}</option>\n                    </select2>\n                </span>\n            </li>\n        </ol>\n    </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport _l from \"utils/localization\";\nimport Select2 from \"components/Select2\";\nexport default {\n    components: {\n        Select2,\n    },\n    props: {\n        target: {\n            required: true,\n        },\n        label: {\n            required: false,\n            type: String,\n            default: _l(\"From Column\"),\n        },\n        help: {\n            required: false,\n        },\n        colHeaders: {\n            type: Array,\n            required: true,\n        },\n        multiple: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n        ordered: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n        valueAsList: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n        orderedEdit: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n    },\n    computed: {\n        remainingHeaders() {\n            const colHeaders = this.colHeaders;\n            if (!this.multiple) {\n                return colHeaders;\n            }\n            const remaining = {};\n            for (const key in colHeaders) {\n                if (this.target.indexOf(parseInt(key)) === -1) {\n                    remaining[key] = colHeaders[key];\n                }\n            }\n            return remaining;\n        },\n        title() {\n            return _l(\"Select a column\");\n        },\n    },\n    methods: {\n        handleInput(value) {\n            if (this.multiple) {\n                // https://stackoverflow.com/questions/262427/why-does-parseint-yield-nan-with-arraymap\n                const val = value.map((idx) => parseInt(idx));\n                this.$emit(\"update:target\", val);\n            } else {\n                let val = parseInt(value);\n                if (this.valueAsList) {\n                    val = [val];\n                }\n                this.$emit(\"update:target\", val);\n            }\n        },\n        handleAdd(value) {\n            this.target.push(parseInt(value));\n            this.$emit(\"update:orderedEdit\", false);\n        },\n        handleRemove(index) {\n            this.target.splice(index, 1);\n        },\n        moveUp(value) {\n            const swapVal = this.target[value - 1];\n            Vue.set(this.target, value - 1, this.target[value]);\n            Vue.set(this.target, value, swapVal);\n        },\n    },\n};\n</script>\n","import { render, staticRenderFns } from \"./ColumnSelector.vue?vue&type=template&id=57035ac0&\"\nimport script from \"./ColumnSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./ColumnSelector.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.multiple || !_vm.ordered)?_c('div',{staticClass:\"rule-column-selector\"},[_c('label',{staticClass:\"d-flex justify-content-end align-items-center\"},[_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"mr-auto\",attrs:{\"title\":_vm.help}},[_vm._v(_vm._s(_vm.label))]),_vm._v(\" \"),_c('div',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"mr-1\",attrs:{\"title\":_vm.title}},[_c('select2',{attrs:{\"value\":_vm.target,\"multiple\":_vm.multiple},on:{\"input\":_vm.handleInput}},_vm._l((_vm.colHeaders),function(col,index){return _c('option',{key:col,domProps:{\"value\":index}},[_vm._v(_vm._s(col))])}),0)],1),_vm._v(\" \"),_vm._t(\"default\")],2)]):_c('div',{staticClass:\"rule-column-selector\"},[_c('span',[_vm._v(_vm._s(_vm.label))]),_vm._v(\" \"),_vm._t(\"default\"),_vm._v(\" \"),_c('ol',[_vm._l((_vm.target),function(targetEl,index){return _c('li',{key:targetEl,staticClass:\"rule-column-selector-target\",attrs:{\"index\":index}},[_vm._v(\"\\n            \"+_vm._s(_vm.colHeaders[targetEl])+\"\\n            \"),_c('span',{staticClass:\"fa fa-times rule-column-selector-target-remove\",on:{\"click\":function($event){return _vm.handleRemove(index)}}}),_vm._v(\" \"),(index !== 0)?_c('span',{staticClass:\"fa fa-arrow-up rule-column-selector-up\",on:{\"click\":function($event){return _vm.moveUp(index)}}}):_vm._e(),_vm._v(\" \"),(index < _vm.target.length - 1)?_c('span',{staticClass:\"fa fa-arrow-down rule-column-selector-down\",on:{\"click\":function($event){return _vm.moveUp(index + 1)}}}):_vm._e()])}),_vm._v(\" \"),(this.target.length < this.colHeaders.length)?_c('li',[(!_vm.orderedEdit)?_c('span',{staticClass:\"rule-column-selector-target-add\"},[_c('i',{on:{\"click\":function($event){return _vm.$emit('update:orderedEdit', true)}}},[_vm._v(\"... \"+_vm._s(_vm.l(\"Assign Another Column\")))])]):_c('span',{staticClass:\"rule-column-selector-target-select\"},[_c('select2',{attrs:{\"placeholder\":\"Select a column\"},on:{\"input\":_vm.handleAdd}},[_c('option'),_vm._v(\" \"),_vm._l((_vm.remainingHeaders),function(col,index){return _c('option',{key:col,domProps:{\"value\":index}},[_vm._v(_vm._s(col))])})],2)],1)]):_vm._e()],2)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RegularExpressionInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RegularExpressionInput.vue?vue&type=script&lang=js&\"","<template>\n    <div>\n        <label for=\"regular_expression\" v-b-tooltip.hover :title=\"title\">{{ label }}</label>\n        <span v-b-popover.html=\"popoverContent\" :title=\"popoverTitle\" class=\"fa fa-question\"></span>\n        <input\n            v-b-tooltip.hover.left\n            :title=\"title\"\n            name=\"regular_expression\"\n            class=\"rule-regular-expression\"\n            type=\"text\"\n            :value=\"target\"\n            @input=\"$emit('update:target', $event.target.value)\"\n        />\n    </div>\n</template>\n\n<script>\nimport _l from \"utils/localization\";\n\nexport default {\n    props: {\n        target: {\n            required: true,\n        },\n    },\n    computed: {\n        label() {\n            return _l(\"Regular Expression\");\n        },\n        title() {\n            return _l(\"Enter a regular expression.\");\n        },\n        popoverTitle() {\n            return _l(\"Regular Expressions\");\n        },\n        popoverContent() {\n            return _l(\n                `Regular expressions are patterns used to match character combinations in strings. This input accepts Python-style regular expressions, find more information about these in <a href=\"https://pythonforbiologists.com/regular-expressions/\">this Python for Biologists tutorial</a>.`\n            );\n        },\n    },\n};\n</script>\n","import { render, staticRenderFns } from \"./RegularExpressionInput.vue?vue&type=template&id=5fbdc916&\"\nimport script from \"./RegularExpressionInput.vue?vue&type=script&lang=js&\"\nexport * from \"./RegularExpressionInput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('label',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"for\":\"regular_expression\",\"title\":_vm.title}},[_vm._v(_vm._s(_vm.label))]),_vm._v(\" \"),_c('span',{directives:[{name:\"b-popover\",rawName:\"v-b-popover.html\",value:(_vm.popoverContent),expression:\"popoverContent\",modifiers:{\"html\":true}}],staticClass:\"fa fa-question\",attrs:{\"title\":_vm.popoverTitle}}),_vm._v(\" \"),_c('input',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.left\",modifiers:{\"hover\":true,\"left\":true}}],staticClass:\"rule-regular-expression\",attrs:{\"title\":_vm.title,\"name\":\"regular_expression\",\"type\":\"text\"},domProps:{\"value\":_vm.target},on:{\"input\":function($event){return _vm.$emit('update:target', $event.target.value)}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <li class=\"rule\">\n        <span class=\"rule-display\">\n            <span class=\"mr-1\">{{ title }}</span>\n            <span v-b-tooltip.hover :title=\"editTitle\" class=\"fa fa-edit mr-1\" @click=\"edit\"></span>\n            <span v-b-tooltip.hover :title=\"removeTitle\" class=\"fa fa-times map\" @click=\"remove\"></span>\n        </span>\n        <span class=\"rule-warning\" v-if=\"rule.warn\">\n            {{ rule.warn }}\n        </span>\n        <span class=\"rule-error\" v-if=\"rule.error\">\n            <span class=\"alert-message\">{{ rule.error }}</span>\n        </span>\n    </li>\n</template>\n\n<script>\nimport _l from \"utils/localization\";\nimport RuleDefs from \"mvc/rules/rule-definitions\";\nconst RULES = RuleDefs.RULES;\n\nexport default {\n    props: {\n        rule: {\n            required: true,\n            type: Object,\n        },\n        colHeaders: {\n            type: Array,\n            required: true,\n        },\n    },\n    computed: {\n        title() {\n            const ruleType = this.rule.type;\n            return RULES[ruleType].display(this.rule, this.colHeaders);\n        },\n        editTitle() {\n            return _l(\"Edit this rule.\");\n        },\n        removeTitle() {\n            return _l(\"Remove this rule.\");\n        },\n    },\n    methods: {\n        edit() {\n            this.$emit(\"edit\");\n        },\n        remove() {\n            this.$emit(\"remove\");\n        },\n    },\n};\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleDisplay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleDisplay.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RuleDisplay.vue?vue&type=template&id=2c996ca0&\"\nimport script from \"./RuleDisplay.vue?vue&type=script&lang=js&\"\nexport * from \"./RuleDisplay.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"rule\"},[_c('span',{staticClass:\"rule-display\"},[_c('span',{staticClass:\"mr-1\"},[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"fa fa-edit mr-1\",attrs:{\"title\":_vm.editTitle},on:{\"click\":_vm.edit}}),_vm._v(\" \"),_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"fa fa-times map\",attrs:{\"title\":_vm.removeTitle},on:{\"click\":_vm.remove}})]),_vm._v(\" \"),(_vm.rule.warn)?_c('span',{staticClass:\"rule-warning\"},[_vm._v(\"\\n        \"+_vm._s(_vm.rule.warn)+\"\\n    \")]):_vm._e(),_vm._v(\" \"),(_vm.rule.error)?_c('span',{staticClass:\"rule-error\"},[_c('span',{staticClass:\"alert-message\"},[_vm._v(_vm._s(_vm.rule.error))])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <li class=\"rule\">\n        <span v-b-tooltip.hover :title=\"help\">Set {{ columnsLabel }} as {{ typeDisplay }}</span>\n        <span v-b-tooltip.hover :title=\"titleEdit\" class=\"fa fa-edit\" @click=\"edit\"></span>\n        <span v-b-tooltip.hover :title=\"titleRemove\" class=\"fa fa-times\" @click=\"remove\"></span>\n    </li>\n</template>\n\n<script>\nimport _l from \"utils/localization\";\nimport RuleDefs from \"mvc/rules/rule-definitions\";\nconst MAPPING_TARGETS = RuleDefs.MAPPING_TARGETS;\n\nexport default {\n    props: {\n        type: {\n            type: String,\n            required: true,\n        },\n        columns: {\n            required: true,\n        },\n        colHeaders: {\n            type: Array,\n            required: true,\n        },\n    },\n    methods: {\n        remove() {\n            this.$emit(\"remove\");\n        },\n        edit() {\n            this.$emit(\"edit\");\n        },\n    },\n    computed: {\n        typeDisplay() {\n            return MAPPING_TARGETS[this.type].label;\n        },\n        help() {\n            return MAPPING_TARGETS[this.type].help || \"\";\n        },\n        titleEdit() {\n            return _l(\"Edit column definition\");\n        },\n        titleRemove() {\n            return _l(\"Remove this column definition\");\n        },\n        columnsLabel() {\n            return RuleDefs.columnDisplay(this.columns, this.colHeaders);\n        },\n    },\n};\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdentifierDisplay.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IdentifierDisplay.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IdentifierDisplay.vue?vue&type=template&id=2d6716a5&\"\nimport script from \"./IdentifierDisplay.vue?vue&type=script&lang=js&\"\nexport * from \"./IdentifierDisplay.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"rule\"},[_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"title\":_vm.help}},[_vm._v(\"Set \"+_vm._s(_vm.columnsLabel)+\" as \"+_vm._s(_vm.typeDisplay))]),_vm._v(\" \"),_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"fa fa-edit\",attrs:{\"title\":_vm.titleEdit},on:{\"click\":_vm.edit}}),_vm._v(\" \"),_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],staticClass:\"fa fa-times\",attrs:{\"title\":_vm.titleRemove},on:{\"click\":_vm.remove}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <a\n        class=\"rule-link dropdown-item\"\n        href=\"javascript:void(0)\"\n        :class=\"linkClassName\"\n        @click=\"builder.addNewRule(ruleType)\"\n        >{{ title }}</a\n    >\n</template>\n\n<script>\nimport RuleDefs from \"mvc/rules/rule-definitions\";\nconst RULES = RuleDefs.RULES;\n\nexport default {\n    props: {\n        ruleType: {\n            type: String,\n            required: true,\n        },\n        builder: {\n            required: true,\n        },\n    },\n    computed: {\n        linkClassName() {\n            return \"rule-link-\" + this.ruleType.replace(/_/g, \"-\");\n        },\n        title() {\n            return RULES[this.ruleType].title;\n        },\n    },\n};\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleTargetComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleTargetComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RuleTargetComponent.vue?vue&type=template&id=4e7fc709&\"\nimport script from \"./RuleTargetComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./RuleTargetComponent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"rule-link dropdown-item\",class:_vm.linkClassName,attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.builder.addNewRule(_vm.ruleType)}}},[_vm._v(_vm._s(_vm.title))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleComponent.vue?vue&type=script&lang=js&\"","<template>\n    <div v-if=\"ruleType == displayRuleType\" class=\"rule-editor\" :class=\"typeToClass\">\n        <slot></slot>\n        <div class=\"buttons rule-edit-buttons d-flex justify-content-end\">\n            <button type=\"button\" class=\"btn rule-editor-cancel mr-1\" @click=\"cancel\">{{ cancelLabel }}</button>\n            <button type=\"button\" class=\"btn btn-primary rule-editor-ok\" @click=\"okay\">{{ applyLabel }}</button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport _l from \"utils/localization\";\n\nexport default {\n    data: function () {\n        return {\n            applyLabel: _l(\"Apply\"),\n            cancelLabel: _l(\"Cancel\"),\n        };\n    },\n    props: {\n        ruleType: {\n            type: String,\n            required: true,\n        },\n        displayRuleType: {\n            required: true,\n        },\n        builder: {\n            required: true,\n        },\n    },\n    methods: {\n        cancel() {\n            this.builder.displayRuleType = null;\n        },\n        okay() {\n            this.builder.handleRuleSave(this.ruleType);\n            this.cancel();\n        },\n    },\n    computed: {\n        typeToClass() {\n            return \"rule-edit-\" + this.ruleType.replace(/_/g, \"-\");\n        },\n    },\n};\n</script>\n","import { render, staticRenderFns } from \"./RuleComponent.vue?vue&type=template&id=3826a523&\"\nimport script from \"./RuleComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./RuleComponent.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.ruleType == _vm.displayRuleType)?_c('div',{staticClass:\"rule-editor\",class:_vm.typeToClass},[_vm._t(\"default\"),_vm._v(\" \"),_c('div',{staticClass:\"buttons rule-edit-buttons d-flex justify-content-end\"},[_c('button',{staticClass:\"btn rule-editor-cancel mr-1\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.cancelLabel))]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-primary rule-editor-ok\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.okay}},[_vm._v(_vm._s(_vm.applyLabel))])])],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./RuleModalHeader.vue?vue&type=template&id=396bbc88&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header flex-row no-flex\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./RuleModalMiddle.vue?vue&type=template&id=c19695c2&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"middle flex-row flex-row-container\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./RuleModalFooter.vue?vue&type=template&id=915de7ce&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"rule-footer footer flex-row no-flex\"},[_vm._t(\"inputs\"),_vm._v(\" \"),_c('div',{staticClass:\"actions clear vertically-spaced\"},[_c('div',{staticClass:\"main-options float-right\"},[_vm._t(\"default\")],2)])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./StateDiv.vue?vue&type=template&id=0d1dcc35&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"rule-collection-creator collection-creator flex-row-container\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"btn-group dropdown\">\n        <span\n            class=\"fas fa-history rule-builder-view-source\"\n            :class=\"{ disabled: numOfSavedRules == 0 }\"\n            v-b-tooltip.hover.bottom\n            :title=\"savedRulesMenu\"\n            data-toggle=\"dropdown\"\n            id=\"savedRulesButton\"\n        ></span>\n        <div class=\"dropdown-menu\" role=\"menu\">\n            <a\n                class=\"rule-link dropdown-item saved-rule-item\"\n                v-for=\"session in savedRules\"\n                :key=\"session.dateTime\"\n                @click=\"$emit('update-rules', session.rule)\"\n                >Saved rule from {{ formatDate(session.dateTime) }}\n            </a>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport _l from \"utils/localization\";\nimport BootstrapVue from \"bootstrap-vue\";\nimport moment from \"moment\";\n\nVue.use(BootstrapVue);\nexport default {\n    data: function () {\n        return {\n            savedRulesMenu: _l(\"Recently used rules\"),\n        };\n    },\n    props: {\n        savedRules: {\n            type: Array,\n            required: true,\n        },\n    },\n    computed: {\n        numOfSavedRules: function () {\n            return this.savedRules.length;\n        },\n    },\n    methods: {\n        formatDate(dateTime) {\n            return moment.utc(dateTime).from(moment().utc());\n        },\n    },\n};\n</script>\n\n<style>\n.saved-rule-item:hover {\n    color: white !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavedRulesSelector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavedRulesSelector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SavedRulesSelector.vue?vue&type=template&id=7f0feca2&\"\nimport script from \"./SavedRulesSelector.vue?vue&type=script&lang=js&\"\nexport * from \"./SavedRulesSelector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SavedRulesSelector.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"btn-group dropdown\"},[_c('span',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover.bottom\",modifiers:{\"hover\":true,\"bottom\":true}}],staticClass:\"fas fa-history rule-builder-view-source\",class:{ disabled: _vm.numOfSavedRules == 0 },attrs:{\"title\":_vm.savedRulesMenu,\"data-toggle\":\"dropdown\",\"id\":\"savedRulesButton\"}}),_vm._v(\" \"),_c('div',{staticClass:\"dropdown-menu\",attrs:{\"role\":\"menu\"}},_vm._l((_vm.savedRules),function(session){return _c('a',{key:session.dateTime,staticClass:\"rule-link dropdown-item saved-rule-item\",on:{\"click\":function($event){return _vm.$emit('update-rules', session.rule)}}},[_vm._v(\"Saved rule from \"+_vm._s(_vm.formatDate(session.dateTime))+\"\\n        \")])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveRules.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SaveRules.vue?vue&type=script&lang=js&\"","<script>\nimport { getGalaxyInstance } from \"app\";\nexport default {\n    data: function () {\n        return {\n            savedRules: [],\n        };\n    },\n    created() {\n        let counter = 0;\n        if (this.user == null) {\n            return;\n        } else {\n            for (let i = 0; i < localStorage.length; i++) {\n                if (localStorage.key(i).startsWith(this.prefix + this.user)) {\n                    var savedSession = localStorage.getItem(localStorage.key(i));\n                    if (savedSession) {\n                        var key = localStorage.key(i);\n                        this.savedRules.push({\n                            dateTime: key.substring(this.prefix.length + this.user.length),\n                            rule: savedSession,\n                        });\n                    }\n                    counter++;\n                    if (counter == 10) {\n                        break;\n                    }\n                }\n            }\n        }\n    },\n    props: {\n        prefix: {\n            type: String,\n            default: \"galaxy_rules_\",\n        },\n        user: {\n            type: String,\n            default: getGalaxyInstance() ? getGalaxyInstance().user.id : \"\",\n        },\n    },\n    methods: {\n        saveSession(jsonRulesString) {\n            var dateTimeString = new Date().toISOString();\n            var key = this.prefix + this.user + dateTimeString;\n            localStorage.setItem(key, jsonRulesString);\n            this.savedRules.push({\n                dateTime: dateTimeString,\n                rule: jsonRulesString,\n            });\n        },\n    },\n};\n</script>\n","var render, staticRenderFns\nimport script from \"./SaveRules.vue?vue&type=script&lang=js&\"\nexport * from \"./SaveRules.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TooltipOnHover.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TooltipOnHover.vue?vue&type=script&lang=js&\"","<template>\n    <div :disabled=\"disabled\" v-b-tooltip.hover :title=\"title\"><slot /></div>\n</template>\n<script>\nexport default {\n    props: {\n        title: {\n            type: String,\n            required: true,\n        },\n        disabled: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n    },\n};\n</script>\n","import { render, staticRenderFns } from \"./TooltipOnHover.vue?vue&type=template&id=3785977a&\"\nimport script from \"./TooltipOnHover.vue?vue&type=script&lang=js&\"\nexport * from \"./TooltipOnHover.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"disabled\":_vm.disabled,\"title\":_vm.title}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <state-div v-if=\"state == 'build'\">\n        <!-- Different instructions if building up from individual datasets vs.\n        initial data import.-->\n        <rule-modal-header v-if=\"ruleView == 'source'\"\n            >Below is a raw JSON description of the rules to apply to the tabular data. This is an advanced\n            setting.</rule-modal-header\n        >\n        <rule-modal-header v-else-if=\"elementsType == 'datasets' || elementsType == 'library_datasets'\">\n            Use this form to describe rules for building collection(s) from the specified datasets.\n            <b>Be sure to specify at least one column as a list identifier</b> - specify more to created nested list\n            structures. Specify a column to serve as \"collection name\" to group datasets into multiple collections.\n        </rule-modal-header>\n        <!-- This modality allows importing individual datasets, multiple collections,\n        and requires a data source - note that.-->\n        <rule-modal-header v-else-if=\"importType == 'datasets'\">\n            Use this form to describe rules for import datasets. At least one column should be defined to a source to\n            fetch data from (URLs, FTP files, etc...).\n        </rule-modal-header>\n        <rule-modal-header v-else>\n            Use this form to describe rules for import datasets. At least one column should be defined to a source to\n            fetch data from (URLs, FTP files, etc...).\n            <b>Be sure to specify at least one column as a list identifier</b> - specify more to created nested list\n            structures. Specify a column to serve as \"collection name\" to group datasets into multiple collections.\n        </rule-modal-header>\n        <rule-modal-middle v-if=\"ruleView == 'source'\">\n            <p class=\"errormessagelarge\" v-if=\"ruleSourceError\">{{ ruleSourceError }}</p>\n            <textarea class=\"rule-source\" v-model=\"ruleSource\"></textarea>\n        </rule-modal-middle>\n        <rule-modal-middle v-else>\n            <!-- column-headers -->\n            <div\n                class=\"rule-builder-body vertically-spaced\"\n                :class=\"{ 'flex-column-container': vertical }\"\n                v-if=\"ruleView == 'normal'\"\n            >\n                <!-- width: 30%; -->\n                <div class=\"rule-column\" :class=\"orientation\">\n                    <div\n                        class=\"rules-container\"\n                        :class=\"{\n                            'rules-container-vertical': initialElements && vertical,\n                            'rules-container-horizontal': initialElements && horizontal,\n                            'rules-container-full': initialElements == null,\n                        }\"\n                    >\n                        <rule-component rule-type=\"sort\" :display-rule-type=\"displayRuleType\" :builder=\"this\">\n                            <column-selector :target.sync=\"addSortingTarget\" :col-headers=\"activeRuleColHeaders\" />\n                            <label v-b-tooltip.hover :title=\"titleNumericSort\">\n                                <input type=\"checkbox\" v-model=\"addSortingNumeric\" />\n                                {{ l(\"Numeric sorting.\") }}\n                            </label>\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_column_basename\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <column-selector\n                                :target.sync=\"addColumnBasenameTarget\"\n                                :col-headers=\"activeRuleColHeaders\"\n                            />\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_column_rownum\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <label>\n                                {{ l(\"Starting from\") }}\n                                <input type=\"number\" v-model=\"addColumnRownumStart\" min=\"0\" />\n                            </label>\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_column_metadata\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <label>\n                                {{ l(\"For\") }}\n                                <select v-model=\"addColumnMetadataValue\">\n                                    <!-- eslint-disable-next-line vue/require-v-for-key -->\n                                    <option v-for=\"(col, index) in metadataOptions\" :value=\"index\">{{ col }}</option>\n                                </select>\n                            </label>\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_column_group_tag_value\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <label>\n                                {{ l(\"Value\") }}\n                                <input type=\"text\" v-model=\"addColumnGroupTagValueValue\" />\n                            </label>\n                            <label>\n                                {{ l(\"Default\") }}\n                                <input type=\"text\" v-model=\"addColumnGroupTagValueDefault\" />\n                            </label>\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_column_regex\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <column-selector :target.sync=\"addColumnRegexTarget\" :col-headers=\"activeRuleColHeaders\" />\n                            <label>\n                                <input type=\"radio\" v-model=\"addColumnRegexType\" value=\"global\" />Create column matching\n                                expression.\n                            </label>\n                            <br />\n                            <label>\n                                <input type=\"radio\" v-model=\"addColumnRegexType\" value=\"groups\" />Create columns\n                                matching expression groups.\n                            </label>\n                            <br />\n                            <label>\n                                <input type=\"radio\" v-model=\"addColumnRegexType\" value=\"replacement\" />Create column\n                                from expression replacement.\n                            </label>\n                            <br />\n                            <regular-expression-input :target.sync=\"addColumnRegexExpression\" />\n                            <label v-if=\"addColumnRegexType == 'groups'\">\n                                {{ l(\"Number of Groups\") }}\n                                <input type=\"number\" v-model=\"addColumnRegexGroupCount\" min=\"1\" />\n                            </label>\n                            <label v-if=\"addColumnRegexType == 'replacement'\">\n                                {{ l(\"Replacement Expression\") }}\n                                <input type=\"text\" v-model=\"addColumnRegexReplacement\" class=\"rule-replacement\" />\n                            </label>\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_column_concatenate\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <column-selector\n                                :target.sync=\"addColumnConcatenateTarget0\"\n                                :col-headers=\"activeRuleColHeaders\"\n                            />\n                            <column-selector\n                                :target.sync=\"addColumnConcatenateTarget1\"\n                                :col-headers=\"activeRuleColHeaders\"\n                            />\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_column_substr\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <column-selector :target.sync=\"addColumnSubstrTarget\" :col-headers=\"activeRuleColHeaders\" />\n                            <label>\n                                <select v-model=\"addColumnSubstrType\">\n                                    <option value=\"keep_prefix\">Keep only prefix specified.</option>\n                                    <option value=\"drop_prefix\">Strip off prefix specified.</option>\n                                    <option value=\"keep_suffix\">Keep only suffix specified.</option>\n                                    <option value=\"drop_suffix\">Strip off suffix specified.</option>\n                                </select>\n                            </label>\n                            <label>\n                                {{ l(\"Prefix or suffix length\") }}\n                                <input type=\"number\" v-model=\"addColumnSubstrLength\" min=\"0\" />\n                            </label>\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_column_value\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <label>\n                                {{ l(\"Value\") }}\n                                <input type=\"text\" v-model=\"addColumnValue\" />\n                            </label>\n                        </rule-component>\n                        <rule-component rule-type=\"remove_columns\" :display-rule-type=\"displayRuleType\" :builder=\"this\">\n                            <column-selector\n                                :target.sync=\"removeColumnTargets\"\n                                :col-headers=\"activeRuleColHeaders\"\n                                :multiple=\"true\"\n                            />\n                        </rule-component>\n                        <rule-component rule-type=\"split_columns\" :display-rule-type=\"displayRuleType\" :builder=\"this\">\n                            <column-selector\n                                :target.sync=\"splitColumnsTargets0\"\n                                label=\"Odd Row Column(s)\"\n                                :col-headers=\"activeRuleColHeaders\"\n                                :multiple=\"true\"\n                            />\n                            <column-selector\n                                :target.sync=\"splitColumnsTargets1\"\n                                label=\"Even Row Column(s)\"\n                                :col-headers=\"activeRuleColHeaders\"\n                                :multiple=\"true\"\n                            />\n                        </rule-component>\n                        <rule-component rule-type=\"swap_columns\" :display-rule-type=\"displayRuleType\" :builder=\"this\">\n                            <column-selector\n                                :target.sync=\"swapColumnsTarget0\"\n                                label=\"Swap Column\"\n                                :col-headers=\"activeRuleColHeaders\"\n                            />\n                            <column-selector\n                                :target.sync=\"swapColumnsTarget1\"\n                                label=\"With Column\"\n                                :col-headers=\"activeRuleColHeaders\"\n                            />\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_filter_regex\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <column-selector :target.sync=\"addFilterRegexTarget\" :col-headers=\"activeRuleColHeaders\" />\n                            <regular-expression-input :target.sync=\"addFilterRegexExpression\" />\n                            <label v-b-tooltip.hover :title=\"titleInvertFilterRegex\">\n                                <input type=\"checkbox\" v-model=\"addFilterRegexInvert\" />\n                                {{ l(\"Invert filter.\") }}\n                            </label>\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_filter_matches\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <column-selector\n                                :target.sync=\"addFilterMatchesTarget\"\n                                :col-headers=\"activeRuleColHeaders\"\n                            />\n                            <input type=\"text\" v-model=\"addFilterMatchesValue\" />\n                            <label v-b-tooltip.hover :title=\"titleInvertFilterMatches\">\n                                <input type=\"checkbox\" v-model=\"addFilterMatchesInvert\" />\n                                {{ l(\"Invert filter.\") }}\n                            </label>\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_filter_compare\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <column-selector\n                                :target.sync=\"addFilterCompareTarget\"\n                                :col-headers=\"activeRuleColHeaders\"\n                            />\n                            <label>\n                                Filter out rows\n                                <select v-model=\"addFilterCompareType\">\n                                    <option value=\"less_than\">{{ l(\"less than\") }}</option>\n                                    <option value=\"less_than_equal\">{{ l(\"less than or equal to\") }}</option>\n                                    <option value=\"greater_than\">{{ l(\"greater than\") }}</option>\n                                    <option value=\"greater_than_equal\">{{ l(\"greater than or equal to\") }}</option>\n                                </select>\n                            </label>\n                            <input type=\"text\" v-model=\"addFilterCompareValue\" />\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_filter_count\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <label>\n                                Filter which rows?\n                                <select v-model=\"addFilterCountWhich\">\n                                    <option value=\"first\">first</option>\n                                    <option value=\"last\">last</option>\n                                </select>\n                            </label>\n                            <label>\n                                Filter how many rows?\n                                <input type=\"number\" v-model=\"addFilterCountN\" />\n                            </label>\n                            <label v-b-tooltip.hover :title=\"titleInvertFilterMatches\">\n                                <input type=\"checkbox\" v-model=\"addFilterCountInvert\" />\n                                {{ l(\"Invert filter.\") }}\n                            </label>\n                        </rule-component>\n                        <rule-component\n                            rule-type=\"add_filter_empty\"\n                            :display-rule-type=\"displayRuleType\"\n                            :builder=\"this\"\n                        >\n                            <column-selector :target.sync=\"addFilterEmptyTarget\" :col-headers=\"activeRuleColHeaders\" />\n                            <label v-b-tooltip.hover :title=\"titleInvertFilterEmpty\">\n                                <input type=\"checkbox\" v-model=\"addFilterEmptyInvert\" />\n                                {{ l(\"Invert filter.\") }}\n                            </label>\n                        </rule-component>\n                        <div v-if=\"displayRuleType == 'mapping'\">\n                            <div class=\"map\" v-for=\"(map, index) in mapping\" :index=\"index\" :key=\"map.type\">\n                                <column-selector\n                                    :class=\"'rule-map-' + map.type.replace(/_/g, '-')\"\n                                    :label=\"mappingTargets()[map.type].label\"\n                                    :help=\"mappingTargets()[map.type].help\"\n                                    :target.sync=\"map.columns\"\n                                    :ordered-edit.sync=\"map.editing\"\n                                    :col-headers=\"colHeaders\"\n                                    :multiple=\"mappingTargets()[map.type].multiple\"\n                                    :ordered=\"true\"\n                                    :value-as-list=\"true\"\n                                >\n                                    <span\n                                        v-b-tooltip.hover\n                                        :title=\"titleRemoveMapping\"\n                                        class=\"fa fa-times\"\n                                        @click=\"removeMapping(index)\"\n                                    ></span>\n                                </column-selector>\n                            </div>\n                            <div class=\"buttons rule-edit-buttons d-flex justify-content-end\">\n                                <button\n                                    type=\"button\"\n                                    class=\"dropdown-toggle btn btn-primary mr-1\"\n                                    data-toggle=\"dropdown\"\n                                    v-if=\"unmappedTargets.length > 0\"\n                                >\n                                    <span class=\"fa fa-plus rule-add-mapping\"></span>\n                                    {{ \"Add Definition\" }}\n                                    <span class=\"caret\"></span>\n                                </button>\n                                <div class=\"dropdown-menu\" role=\"menu\">\n                                    <a\n                                        v-for=\"target in unmappedTargets\"\n                                        :index=\"target\"\n                                        :key=\"target\"\n                                        class=\"dropdown-item\"\n                                        href=\"javascript:void(0)\"\n                                        :class=\"'rule-add-mapping-' + target.replace(/_/g, '-')\"\n                                        @click=\"addIdentifier(target)\"\n                                        >{{ mappingTargets()[target].label }}</a\n                                    >\n                                </div>\n                                <b-button\n                                    v-b-tooltip.hover.bottom\n                                    :title=\"titleApplyColumnDefinitions\"\n                                    class=\"rule-mapping-ok\"\n                                    v-if=\"!hasActiveMappingEdit\"\n                                    @click=\"displayRuleType = null\"\n                                    >{{ l(\"Apply\") }}</b-button\n                                >\n                            </div>\n                        </div>\n                        <div class=\"rule-summary\" v-if=\"displayRuleType == null\">\n                            <span class=\"title\">\n                                {{ l(\"Rules\") }}\n                                <span\n                                    v-b-tooltip.hover\n                                    class=\"fa fa-wrench rule-builder-view-source\"\n                                    :title=\"titleViewSource\"\n                                    @click=\"viewSource\"\n                                ></span>\n                                <saved-rules-selector\n                                    ref=\"savedRulesSelector\"\n                                    @update-rules=\"restoreRules\"\n                                    :savedRules=\"this.savedRules\"\n                                />\n                            </span>\n                            <div v-if=\"jaggedData\" class=\"rule-warning\">\n                                Rows contain differing numbers of columns, there was likely a problem parsing your data.\n                            </div>\n                            <ol class=\"rules\">\n                                <!-- Example at the end of https://vuejs.org/v2/guide/list.html -->\n                                <rule-display\n                                    v-for=\"(rule, index) in rules\"\n                                    :rule=\"rule\"\n                                    :index=\"index\"\n                                    :key=\"index\"\n                                    @edit=\"editRule(rule, index)\"\n                                    @remove=\"removeRule(index)\"\n                                    :col-headers=\"colHeadersPerRule[index]\"\n                                />\n                                <identifier-display\n                                    v-for=\"(map, index) in mapping\"\n                                    v-bind=\"map\"\n                                    :index=\"index\"\n                                    :key=\"map.type\"\n                                    @remove=\"removeMapping(index)\"\n                                    @edit=\"displayRuleType = 'mapping'\"\n                                    @mouseover.native=\"map.columns.forEach((col) => highlightColumn(col))\"\n                                    @mouseout.native=\"map.columns.forEach((col) => unhighlightColumn(col))\"\n                                    :col-headers=\"colHeaders\"\n                                />\n                                <div v-if=\"mapping.length == 0\">\n                                    One or more column definitions must be specified. These are required to specify how\n                                    to build collections and datasets from rows and columns of the table.\n                                    <a href=\"javascript:void(0)\" @click=\"displayRuleType = 'mapping'\">Click here</a> to\n                                    manage column definitions.\n                                </div>\n                            </ol>\n                            <div class=\"rules-buttons btn-group\">\n                                <div class=\"dropup\">\n                                    <button\n                                        type=\"button\"\n                                        v-b-tooltip.hover.bottom\n                                        :title=\"titleRulesMenu\"\n                                        class=\"rule-menu-rules-button primary-button dropdown-toggle\"\n                                        data-toggle=\"dropdown\"\n                                    >\n                                        <span class=\"fa fa-plus\"></span>\n                                        {{ l(\"Rules\") }}\n                                        <span class=\"caret\"></span>\n                                    </button>\n                                    <div class=\"dropdown-menu\" role=\"menu\">\n                                        <rule-target-component :builder=\"this\" rule-type=\"sort\" />\n                                        <rule-target-component :builder=\"this\" rule-type=\"remove_columns\" />\n                                        <rule-target-component :builder=\"this\" rule-type=\"split_columns\" />\n                                        <rule-target-component :builder=\"this\" rule-type=\"swap_columns\" />\n                                        <a\n                                            href=\"javascript:void(0)\"\n                                            class=\"dropdown-item rule-link rule-link-mapping\"\n                                            @click=\"displayRuleType = 'mapping'\"\n                                            >Add / Modify Column Definitions</a\n                                        >\n                                    </div>\n                                </div>\n                                <div class=\"dropup\">\n                                    <button\n                                        type=\"button\"\n                                        v-b-tooltip.hover.bottom\n                                        :title=\"titleFilterMenu\"\n                                        class=\"rule-menu-filter-button primary-button dropdown-toggle\"\n                                        data-toggle=\"dropdown\"\n                                    >\n                                        <span class=\"fa fa-plus\"></span>\n                                        {{ l(\"Filter\") }}\n                                        <span class=\"caret\"></span>\n                                    </button>\n                                    <div class=\"dropdown-menu\" role=\"menu\">\n                                        <rule-target-component :builder=\"this\" rule-type=\"add_filter_regex\" />\n                                        <rule-target-component :builder=\"this\" rule-type=\"add_filter_matches\" />\n                                        <rule-target-component :builder=\"this\" rule-type=\"add_filter_compare\" />\n                                        <rule-target-component :builder=\"this\" rule-type=\"add_filter_empty\" />\n                                        <rule-target-component :builder=\"this\" rule-type=\"add_filter_count\" />\n                                    </div>\n                                </div>\n                                <div class=\"dropup\">\n                                    <button\n                                        type=\"button\"\n                                        v-b-tooltip.hover.bottom\n                                        :title=\"titleColumMenu\"\n                                        class=\"rule-menu-column-button primary-button dropdown-toggle\"\n                                        data-toggle=\"dropdown\"\n                                    >\n                                        <span class=\"fa fa-plus\"></span>\n                                        {{ l(\"Column\") }}\n                                        <span class=\"caret\"></span>\n                                    </button>\n                                    <div class=\"dropdown-menu\" role=\"menu\">\n                                        <rule-target-component :builder=\"this\" rule-type=\"add_column_basename\" />\n                                        <rule-target-component\n                                            :builder=\"this\"\n                                            rule-type=\"add_column_metadata\"\n                                            v-if=\"metadataOptions\"\n                                        />\n                                        <rule-target-component\n                                            :builder=\"this\"\n                                            rule-type=\"add_column_group_tag_value\"\n                                            v-if=\"hasTagsMetadata\"\n                                        />\n                                        <rule-target-component :builder=\"this\" rule-type=\"add_column_regex\" />\n                                        <rule-target-component :builder=\"this\" rule-type=\"add_column_concatenate\" />\n                                        <rule-target-component :builder=\"this\" rule-type=\"add_column_rownum\" />\n                                        <rule-target-component :builder=\"this\" rule-type=\"add_column_value\" />\n                                        <rule-target-component :builder=\"this\" rule-type=\"add_column_substr\" />\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <!--  flex-column column -->\n                <!--  style=\"width: 70%;\" -->\n                <div class=\"table-column\" :class=\"orientation\" style=\"width: 100%;\" v-if=\"initialElements !== null\">\n                    <hot-table\n                        id=\"hot-table\"\n                        ref=\"hotTable\"\n                        :data=\"hotData.data\"\n                        :col-headers=\"colHeadersDisplay\"\n                        :read-only=\"true\"\n                        stretch-h=\"all\"\n                    ></hot-table>\n                </div>\n            </div>\n        </rule-modal-middle>\n        <rule-modal-footer v-if=\"ruleView == 'source'\">\n            <b-button v-b-tooltip.hover :title=\"titleSourceCancel\" @click=\"cancelSourceEdit\" class=\"rule-btn-cancel\">{{\n                l(\"Cancel\")\n            }}</b-button>\n            <b-button v-b-tooltip.hover :title=\"titleSourceReset\" class=\"creator-reset-btn rule-btn-reset\">{{\n                l(\"Reset\")\n            }}</b-button>\n            <b-button v-b-tooltip.hover :title=\"titleSourceApply\" @click=\"attemptRulePreview\" class=\"rule-btn-okay\">{{\n                l(\"Apply\")\n            }}</b-button>\n        </rule-modal-footer>\n        <rule-modal-footer v-else-if=\"ruleView == 'normal'\">\n            <template v-slot:inputs>\n                <div class=\"rule-footer-inputs\">\n                    <label v-if=\"elementsType == 'datasets'\">{{ l(\"Hide original elements\") }}:</label>\n                    <input type=\"checkbox\" v-model=\"hideSourceItems\" v-if=\"elementsType == 'datasets'\" />\n                    <div class=\"rule-footer-extension-group\" v-if=\"extension && showFileTypeSelector\">\n                        <label>{{ l(\"Type\") }}:</label>\n                        <select2 name=\"extension\" class=\"extension-select\" v-model=\"extension\">\n                            <option v-for=\"col in extensions\" :value=\"col['id']\" :key=\"col.id\">\n                                {{ col[\"text\"] }}\n                            </option>\n                        </select2>\n                    </div>\n                    <div class=\"rule-footer-genome-group\" v-if=\"genome && showGenomeSelector\">\n                        <label>{{ l(\"Genome\") }}:</label>\n                        <select2 class=\"genome-select\" v-model=\"genome\">\n                            <option v-for=\"col in genomes\" :value=\"col['id']\" :key=\"col.id\">{{ col[\"text\"] }}</option>\n                        </select2>\n                    </div>\n                    <label v-if=\"showAddNameTag\">{{ l(\"Add nametag for name\") }}:</label>\n                    <input type=\"checkbox\" v-model=\"addNameTag\" v-if=\"showAddNameTag\" />\n                    <div class=\"rule-footer-name-group\" v-if=\"showCollectionNameInput\">\n                        <b-input\n                            class=\"collection-name\"\n                            :placeholder=\"namePlaceholder\"\n                            :title=\"namePlaceholder\"\n                            v-b-tooltip.hover\n                            v-model=\"collectionName\"\n                        />\n                        <label>{{ l(\"Name\") }}:</label>\n                    </div>\n                </div>\n            </template>\n            <b-row class=\"mx-auto\">\n                <b-button\n                    :help=\"titleCancel\"\n                    @click=\"cancel\"\n                    class=\"creator-cancel-btn rule-btn-cancel\"\n                    tabindex=\"-1\"\n                    >{{ l(\"Cancel\") }}</b-button\n                >\n\n                <tooltip-on-hover class=\"menu-option\" :title=\"titleReset\">\n                    <b-button @click=\"resetRulesAndState\" class=\"creator-reset-btn rule-btn-reset\">{{\n                        l(\"Reset\")\n                    }}</b-button>\n                </tooltip-on-hover>\n                <tooltip-on-hover class=\"menu-option\" :disabled=\"!validInput\" :title=\"titleFinish\">\n                    <b-button\n                        @click=\"createCollection\"\n                        class=\"create-collection rule-btn-okay\"\n                        variant=\"primary\"\n                        :disabled=\"!validInput\"\n                        >{{ finishButtonTitle }}</b-button\n                    >\n                </tooltip-on-hover>\n            </b-row>\n        </rule-modal-footer>\n    </state-div>\n    <state-div v-else-if=\"state == 'wait'\">\n        <rule-modal-header v-if=\"importType == 'datasets'\">\n            {{\n                l(\n                    \"Datasets submitted to Galaxy for creation, this dialog will close when dataset creation is complete. You may close this dialog at any time, but you will not be informed of errors with dataset creation and you may have to refresh your history manually to view new datasets once complete.\"\n                )\n            }}\n        </rule-modal-header>\n        <rule-modal-header v-else-if=\"importType == 'collections'\">\n            {{\n                l(\n                    \"Galaxy is waiting for collection creation, this dialog will close when this is complete. You may close this dialog at any time, but you will not be informed of errors with collection creation and you may have to refresh your history manually to view new collections once complete.\"\n                )\n            }}\n        </rule-modal-header>\n        <rule-modal-footer>\n            <b-button @click=\"cancel\" class=\"creator-cancel-btn\" tabindex=\"-1\">{{ l(\"Close\") }}</b-button>\n        </rule-modal-footer>\n    </state-div>\n    <state-div v-else-if=\"state == 'error'\">\n        <!-- TODO: steal styling from paired collection builder warning... -->\n        <rule-modal-header>A problem was encountered.</rule-modal-header>\n        <rule-modal-middle>\n            <p class=\"errormessagelarge\">{{ errorMessage }}</p>\n        </rule-modal-middle>\n        <rule-modal-footer>\n            <b-button v-b-tooltip.hover :title=\"titleCancel\" @click=\"cancel\" class=\"creator-cancel-btn\" tabindex=\"-1\">{{\n                l(\"Close\")\n            }}</b-button>\n            <b-button v-b-tooltip.hover :title=\"titleErrorOkay\" @click=\"state = 'build'\" tabindex=\"-1\">{{\n                l(\"Okay\")\n            }}</b-button>\n        </rule-modal-footer>\n    </state-div>\n</template>\n<script>\nimport $ from \"jquery\";\nimport _ from \"underscore\";\nimport { getAppRoot } from \"onload/loadConfig\";\nimport { getGalaxyInstance } from \"app\";\nimport AjaxQueue from \"utils/ajax-queue\";\nimport axios from \"axios\";\nimport _l from \"utils/localization\";\nimport HotTable from \"@handsontable/vue\";\nimport UploadUtils from \"mvc/upload/upload-utils\";\nimport JobStatesModel from \"mvc/history/job-states-model\";\nimport RuleDefs from \"mvc/rules/rule-definitions\";\nimport Vue from \"vue\";\nimport BootstrapVue from \"bootstrap-vue\";\nimport Select2 from \"components/Select2\";\nimport ColumnSelector from \"components/RuleBuilder/ColumnSelector\";\nimport RegularExpressionInput from \"components/RuleBuilder/RegularExpressionInput\";\nimport RuleDisplay from \"components/RuleBuilder/RuleDisplay\";\nimport IdentifierDisplay from \"components/RuleBuilder/IdentifierDisplay\";\nimport RuleTargetComponent from \"components/RuleBuilder/RuleTargetComponent\";\nimport RuleComponent from \"components/RuleBuilder/RuleComponent\";\nimport RuleModalHeader from \"components/RuleBuilder/RuleModalHeader\";\nimport RuleModalMiddle from \"components/RuleBuilder/RuleModalMiddle\";\nimport RuleModalFooter from \"components/RuleBuilder/RuleModalFooter\";\nimport StateDiv from \"components/RuleBuilder/StateDiv\";\nimport SavedRulesSelector from \"components/RuleBuilder/SavedRulesSelector\";\nimport SaveRules from \"components/RuleBuilder/SaveRules\";\nimport TooltipOnHover from \"components/TooltipOnHover.vue\";\n\nVue.use(BootstrapVue);\n\nconst RULES = RuleDefs.RULES;\nconst MAPPING_TARGETS = RuleDefs.MAPPING_TARGETS;\n\nexport default {\n    data: function () {\n        let orientation = \"vertical\";\n        let mapping;\n        let rules;\n        if (this.initialRules) {\n            mapping = this.initialRules.mapping.slice();\n            rules = this.initialRules.rules.slice();\n        } else {\n            if (this.elementsType == \"ftp\") {\n                mapping = [{ type: \"ftp_path\", columns: [0] }];\n            } else if (this.elementsType == \"remote_files\") {\n                mapping = [{ type: \"url\", columns: [0] }];\n            } else if (this.elementsType == \"datasets\") {\n                mapping = [{ type: \"list_identifiers\", columns: [1] }];\n            } else {\n                mapping = [];\n            }\n            rules = [];\n            if (this.elementsType == \"collection_contents\") {\n                if (this.initialElements !== null) {\n                    const collectionType = this.initialElements.collection_type;\n                    const collectionTypeRanks = collectionType.split(\":\");\n                    for (const index in collectionTypeRanks) {\n                        rules.push({\n                            type: \"add_column_metadata\",\n                            value: \"identifier\" + index,\n                        });\n                    }\n                } else {\n                    orientation = \"horizontal\";\n                    // just assume a list is given by default.\n                    rules.push({\n                        type: \"add_column_metadata\",\n                        value: \"identifier0\",\n                    });\n                }\n            } else if (this.elementsType == \"datasets\") {\n                rules.push(\n                    {\n                        type: \"add_column_metadata\",\n                        value: \"hid\",\n                    },\n                    {\n                        type: \"add_column_metadata\",\n                        value: \"name\",\n                    }\n                );\n            } else if (this.elementsType == \"library_datasets\") {\n                rules.push({\n                    type: \"add_column_metadata\",\n                    value: \"name\",\n                });\n            } else if (this.elementsType == \"ftp\") {\n                rules.push({\n                    type: \"add_column_metadata\",\n                    value: \"path\",\n                });\n            } else if (this.elementsType == \"remote_files\") {\n                rules.push({\n                    type: \"add_column_metadata\",\n                    value: \"uri\",\n                });\n            }\n        }\n        return {\n            rules: rules,\n            mapping: mapping,\n            state: \"build\", // 'build', 'error', 'wait',\n            ruleView: \"normal\", // 'normal' or 'source'\n            ruleSource: \"\",\n            ruleSourceJson: null,\n            ruleSourceError: null,\n            errorMessage: \"\",\n            jaggedData: false,\n            waitingJobState: \"new\",\n            titleReset: _l(\"Undo all reordering and discards\"),\n            titleNumericSort: _l(\n                \"By default columns will be sorted lexicographically, check this option if the columns are numeric values and should be sorted as numbers\"\n            ),\n            titleInvertFilterRegex: _l(\"Remove rows not matching the specified regular expression at specified column\"),\n            titleInvertFilterEmpty: _l(\"Remove rows that have non-empty values at specified column\"),\n            titleInvertFilterMatches: _l(\"Remove rows not matching supplied value\"),\n            titleViewSource: _l(\n                \"Advanced Option: View and or edit the JSON representation of the rules to apply to this tabular data\"\n            ),\n            titleSourceCancel: _l(\"Stop editing rules and dismiss changes\"),\n            titleSourceReset: _l(\"Reset text area to current set of rules\"),\n            titleSourceApply: _l(\"Apply changes to rule source and return to rule preview\"),\n            titleRulesMenu: _l(\"General rules to apply\"),\n            titleFilterMenu: _l(\"Rules that filter rows from the data\"),\n            titleColumMenu: _l(\"Rules that generate new columns\"),\n            titleRemoveMapping: _l(\"Remove column definition assignment\"),\n            titleApplyColumnDefinitions: _l(\"Apply these column definitions and return to rules preview\"),\n            titleErrorOkay: _l(\"Dismiss this error and return to the rule builder to try again with new rules\"),\n            namePlaceholder: _l(\"Enter a name for your new collection\"),\n            activeRuleIndex: null,\n            addColumnRegexTarget: 0,\n            addColumnBasenameTarget: 0,\n            addColumnRegexExpression: \"\",\n            addColumnRegexReplacement: null,\n            addColumnRegexGroupCount: null,\n            addColumnRegexType: \"global\",\n            addColumnMetadataValue: 0,\n            addColumnGroupTagValueValue: \"\",\n            addColumnGroupTagValueDefault: \"\",\n            addColumnConcatenateTarget0: 0,\n            addColumnConcatenateTarget1: 0,\n            addColumnRownumStart: 1,\n            addColumnSubstrTarget: 0,\n            addColumnSubstrType: \"keep_prefix\",\n            addColumnSubstrLength: 1,\n            addColumnValue: \"\",\n            removeColumnTargets: [],\n            addFilterRegexTarget: 0,\n            addFilterRegexExpression: \"\",\n            addFilterRegexInvert: false,\n            addFilterMatchesTarget: 0,\n            addFilterMatchesValue: \"\",\n            addFilterMatchesInvert: false,\n            addFilterEmptyTarget: 0,\n            addFilterEmptyInvert: false,\n            addFilterCompareTarget: 0,\n            addFilterCompareValue: 0,\n            addFilterCompareType: \"less_than\",\n            addFilterCountN: 1,\n            addFilterCountInvert: false,\n            addFilterCountWhich: \"first\",\n            addSortingTarget: 0,\n            addSortingNumeric: false,\n            splitColumnsTargets0: [],\n            splitColumnsTargets1: [],\n            swapColumnsTarget0: 0,\n            swapColumnsTarget1: 0,\n            collectionName: \"\",\n            displayRuleType: null,\n            extensions: [],\n            extension: null,\n            genomes: [],\n            genome: null,\n            hideSourceItems: this.defaultHideSourceItems,\n            addNameTag: false,\n            orientation: orientation,\n        };\n    },\n    props: {\n        initialElements: {\n            required: true,\n        },\n        importType: {\n            type: String,\n            required: false,\n            default: \"collections\",\n        },\n        elementsType: {\n            type: String,\n            required: false,\n            default: \"datasets\",\n        },\n        // required if elementsType is \"datasets\" - hook into Backbone code for creating\n        // collections from HDAs, etc...\n        creationFn: {\n            required: false,\n            type: Function,\n        },\n        // required if elementsType is \"collection_contents\" - hook into tool form to update\n        // rule parameter\n        saveRulesFn: {\n            required: false,\n            type: Function,\n        },\n        initialRules: {\n            required: false,\n            type: Object,\n        },\n        defaultHideSourceItems: {\n            type: Boolean,\n            required: false,\n            default: true,\n        },\n        // Callbacks sent in by modal code.\n        oncancel: {\n            required: true,\n            type: Function,\n        },\n        oncreate: {\n            required: true,\n            type: Function,\n        },\n        ftpUploadSite: {\n            type: String,\n            required: false,\n            default: null,\n        },\n    },\n    computed: {\n        exisistingDatasets() {\n            const elementsType = this.elementsType;\n            return (\n                elementsType === \"datasets\" ||\n                elementsType === \"collection_contents\" ||\n                elementsType === \"library_datasets\"\n            );\n        },\n        showFileTypeSelector() {\n            return !this.exisistingDatasets && !this.mappingAsDict.file_type;\n        },\n        showGenomeSelector() {\n            return !this.exisistingDatasets && !this.mappingAsDict.dbkey;\n        },\n        showCollectionNameInput() {\n            return (\n                this.importType == \"collections\" &&\n                this.elementsType != \"collection_contents\" &&\n                !this.mappingAsDict.collection_name\n            );\n        },\n        showAddNameTag() {\n            return this.importType == \"collections\" && this.elementsType != \"collection_contents\";\n        },\n        titleFinish() {\n            if (this.elementsType == \"datasets\" || this.elementsType == \"library_datasets\") {\n                return _l(\"Create new collection from specified rules and datasets\");\n            } else if (this.elementsType == \"collection_contents\") {\n                return _l(\"Save rules and return to tool form\");\n            } else {\n                return _l(\"Upload collection using specified rules\");\n            }\n        },\n        titleCancel() {\n            if (this.importType == \"datasets\") {\n                return _l(\"Close this modal and do not upload any datasets\");\n            } else {\n                return _l(\"Close this modal and do not create any collections\");\n            }\n        },\n        finishButtonTitle() {\n            if (this.elementsType == \"datasets\" || this.elementsType == \"library_datasets\") {\n                return _l(\"Create\");\n            } else if (this.elementsType == \"collection_contents\") {\n                return _l(\"Save\");\n            } else {\n                return _l(\"Upload\");\n            }\n        },\n        hasActiveMappingEdit() {\n            const has = _.any(_.values(this.mapping), (mapping) => mapping.editing);\n            return has;\n        },\n        activeRule() {\n            return this.activeRuleIndex !== null && this.rules[this.activeRuleIndex];\n        },\n        activeRuleColHeaders() {\n            const rulesHeaders = this.activeRuleIndex !== null && this.colHeadersPerRule[this.activeRuleIndex];\n            return rulesHeaders || this.colHeaders;\n        },\n        horizontal() {\n            return this.orientation == \"horizontal\";\n        },\n        vertical() {\n            return this.orientation == \"vertical\";\n        },\n        mappedTargets() {\n            const targets = [];\n            for (const mapping of this.mapping) {\n                targets.push(mapping.type);\n            }\n            return targets;\n        },\n        unmappedTargets() {\n            const targets = [];\n            const mappedTargets = this.mappedTargets;\n            for (const target in MAPPING_TARGETS) {\n                const targetModes = MAPPING_TARGETS[target].modes;\n\n                if (targetModes && targetModes.indexOf(this.elementsType) < 0) {\n                    continue;\n                }\n\n                const targetDefinition = MAPPING_TARGETS[target];\n                const targetImportType = targetDefinition.importType;\n                if (targetImportType && this.importType != targetImportType) {\n                    continue;\n                }\n                if (!this.ftpUploadSite && targetDefinition.requiresFtp) {\n                    continue;\n                }\n                if (mappedTargets.indexOf(target) < 0) {\n                    targets.push(target);\n                }\n            }\n            return targets;\n        },\n        colHeaders() {\n            const { data, columns } = this.hotData;\n            return RuleDefs.colHeadersFor(data, columns);\n        },\n        colHeadersDisplay() {\n            const formattedHeaders = [];\n            for (const colIndex in this.colHeaders) {\n                const colHeader = this.colHeaders[colIndex];\n                formattedHeaders[colIndex] = `<b>${_.escape(colHeader)}</b>`;\n                const mappingDisplay = [];\n                for (const mapping of this.mapping) {\n                    if (mapping.columns.indexOf(parseInt(colIndex)) !== -1) {\n                        const mappingDef = MAPPING_TARGETS[mapping.type];\n                        mappingDisplay.push(`<i>${_.escape(mappingDef.columnHeader || mappingDef.label)}</i>`);\n                    }\n                }\n                if (mappingDisplay.length == 1) {\n                    formattedHeaders[colIndex] += ` (${mappingDisplay[0]})`;\n                } else if (mappingDisplay.length > 1) {\n                    formattedHeaders[colIndex] += ` (${[\n                        mappingDisplay.slice(0, -1).join(\", \"),\n                        mappingDisplay.slice(-1)[0],\n                    ].join(\" & \")})`;\n                }\n            }\n            return formattedHeaders;\n        },\n        mappingAsDict() {\n            const asDict = {};\n            for (const mapping of this.mapping) {\n                asDict[mapping.type] = mapping;\n            }\n            return asDict;\n        },\n        metadataOptions() {\n            let metadataOptions = {};\n            if (this.elementsType == \"collection_contents\") {\n                let collectionType;\n                if (this.initialElements) {\n                    collectionType = this.initialElements.collection_type;\n                } else {\n                    // give a bunch of different options if not constrained with given input\n                    collectionType = \"list:list:list:paired\";\n                }\n                const collectionTypeRanks = collectionType.split(\":\");\n                for (const index in collectionTypeRanks) {\n                    const collectionTypeRank = collectionTypeRanks[index];\n                    if (collectionTypeRank == \"list\") {\n                        // TODO: drop the numeral at the end if only flat list\n                        metadataOptions[\"identifier\" + index] = _l(\"List Identifier \") + (parseInt(index) + 1);\n                    } else {\n                        metadataOptions[\"identifier\" + index] = _l(\"Paired Identifier\");\n                    }\n                }\n                metadataOptions[\"tags\"] = _l(\"Tags\");\n            } else if (this.elementsType == \"ftp\") {\n                metadataOptions[\"path\"] = _l(\"Path\");\n            } else if (this.elementsType == \"remote_files\") {\n                // IS THIS NEEDED?\n                metadataOptions[\"url\"] = _l(\"URL\");\n            } else if (this.elementsType == \"library_datasets\") {\n                metadataOptions[\"name\"] = _l(\"Name\");\n            } else if (this.elementsType == \"datasets\") {\n                metadataOptions[\"hid\"] = _l(\"History ID (hid)\");\n                metadataOptions[\"name\"] = _l(\"Name\");\n            } else {\n                metadataOptions = null;\n            }\n            return metadataOptions;\n        },\n        hasTagsMetadata() {\n            // TODO: allow for dataset, library_datasets also - here and just above in metadataOptions.\n            return this.elementsType == \"collection_contents\";\n        },\n        collectionType() {\n            let identifierColumns = [];\n            if (this.mappingAsDict.list_identifiers) {\n                identifierColumns = this.mappingAsDict.list_identifiers.columns;\n            }\n            let collectionType = identifierColumns.map((col) => \"list\").join(\":\");\n            if (this.mappingAsDict.paired_identifier) {\n                if (collectionType) {\n                    collectionType += \":paired\";\n                } else {\n                    collectionType = \"paired\";\n                }\n            }\n            return collectionType;\n        },\n        validInput() {\n            const identifierColumns = this.identifierColumns();\n            const mappingAsDict = this.mappingAsDict;\n            const buildingCollection = this.importType == \"collections\";\n            const requiresName =\n                buildingCollection && this.elementsType != \"collection_contents\" && !mappingAsDict.collection_name;\n\n            let valid = true;\n            if (requiresName) {\n                valid = this.collectionName.length > 0;\n            }\n\n            if (mappingAsDict.ftp_path && mappingAsDict.url) {\n                // Can only specify one of these.\n                valid = false;\n            }\n\n            const requiresSourceColumn =\n                this.elementsType == \"ftp\" || this.elementsType == \"raw\" || this.elementsType == \"remote_files\";\n            if (requiresSourceColumn && !mappingAsDict.ftp_path && !mappingAsDict.url) {\n                valid = false;\n            }\n            for (const rule of this.rules) {\n                if (rule.error) {\n                    valid = false;\n                }\n            }\n\n            if (buildingCollection && identifierColumns.length == 0) {\n                valid = false;\n            }\n            return valid;\n        },\n        hotData() {\n            let data;\n            let sources;\n            let columns;\n            if (\n                this.elementsType == \"datasets\" ||\n                this.elementsType == \"library_datasets\" ||\n                this.elementsType == \"ftp\" ||\n                this.elementsType == \"remote_files\"\n            ) {\n                sources = this.initialElements.slice();\n                data = sources.map((el) => []);\n                columns = [];\n            } else if (this.elementsType == \"collection_contents\") {\n                const collection = this.initialElements;\n                if (collection) {\n                    const obj = this.populateElementsFromCollectionDescription(\n                        collection.elements,\n                        collection.collection_type\n                    );\n                    data = obj.data;\n                    sources = obj.sources;\n                    columns = [];\n                } else {\n                    data = [];\n                    sources = [];\n                    columns = [];\n                }\n            } else {\n                data = this.initialElements.slice();\n                sources = data.map((el) => null);\n                columns = [];\n                if (this.initialElements) {\n                    this.initialElements[0].forEach(() => columns.push(\"new\"));\n                }\n            }\n            return RuleDefs.applyRules(data, sources, columns, this.rules);\n        },\n        colHeadersPerRule() {\n            return this.hotData.colHeadersPerRule;\n        },\n    },\n    mixins: [SaveRules],\n    methods: {\n        restoreRules(event) {\n            const json = JSON.parse(event);\n            this.rules = json.rules;\n            this.mapping = json.mapping;\n        },\n        l(str) {\n            // _l conflicts private methods of Vue internals, expose as l instead\n            return _l(str);\n        },\n        cancel() {\n            this.oncancel();\n        },\n        mappingTargets() {\n            return MAPPING_TARGETS;\n        },\n        resetRules() {\n            this.rules.splice(0, this.rules.length);\n            this.mapping.splice(0, this.mapping.length);\n        },\n        resetRulesAndState() {\n            this.resetRules();\n            this.state = \"build\";\n            this.errorMessage = \"\";\n            this.collectionName = \"\";\n        },\n        addNewRule(ruleType) {\n            RULES[ruleType].init(this);\n            this.displayRuleType = ruleType;\n            this.activeRuleIndex = null;\n        },\n        handleRuleSave(ruleType) {\n            const rule = this.activeRule;\n            if (rule) {\n                RULES[ruleType].save(this, rule);\n            } else {\n                const rule = { type: ruleType };\n                RULES[ruleType].save(this, rule);\n                this.rules.push(rule);\n            }\n        },\n        viewSource() {\n            this.resetSource();\n            this.ruleView = \"source\";\n        },\n        resetSource() {\n            const replacer = function (key, value) {\n                if (key == \"error\" || key == \"warn\") {\n                    return undefined;\n                }\n                return value;\n            };\n            const asJson = {\n                rules: this.rules,\n                mapping: this.mapping,\n            };\n            if (!this.exisistingDatasets) {\n                if (this.extension !== UploadUtils.DEFAULT_EXTENSION) {\n                    asJson.extension = this.extension;\n                }\n                if (this.genome !== UploadUtils.DEFAULT_GENOME) {\n                    asJson.genome = this.genome;\n                }\n            }\n            this.ruleSourceJson = asJson;\n            this.ruleSource = JSON.stringify(asJson, replacer, \"  \");\n            this.ruleSourceError = null;\n        },\n        attemptRulePreview() {\n            // Leave source mode if rules are valid and view.\n            this.ruleSourceError = null;\n            let asJson;\n            try {\n                asJson = JSON.parse(this.ruleSource);\n            } catch (error) {\n                this.ruleSourceError = \"Problem parsing your rules.\";\n                return;\n            }\n            this.updateFromSource(asJson);\n            this.ruleView = \"normal\";\n        },\n        cancelSourceEdit() {\n            this.ruleSourceError = null;\n            this.ruleView = \"normal\";\n        },\n        updateFromSource(asJson) {\n            this.resetRules();\n            if (asJson.extension) {\n                this.extension = asJson.extension;\n            }\n            if (asJson.genome) {\n                this.genome = asJson.genome;\n            }\n            if (asJson.rules) {\n                this.rules = asJson.rules;\n            }\n            if (asJson.mapping) {\n                this.mapping = asJson.mapping;\n            }\n        },\n        addIdentifier(identifier) {\n            const multiple = this.mappingTargets()[identifier].multiple;\n            // If multiple selection, pop open a new column selector in edit mode.\n            const initialColumns = multiple ? [] : [0];\n            this.mapping.push({ type: identifier, columns: initialColumns, editing: multiple });\n        },\n        editRule(rule, index) {\n            const ruleType = rule.type;\n            this.activeRuleIndex = index;\n            RULES[ruleType].init(this, rule);\n            this.displayRuleType = ruleType;\n        },\n        removeRule(index) {\n            this.rules.splice(index, 1);\n        },\n        removeMapping(index) {\n            this.mapping.splice(index, 1);\n        },\n        refreshAndWait(response) {\n            const Galaxy = getGalaxyInstance();\n            if (Galaxy && Galaxy.currHistoryPanel) {\n                Galaxy.currHistoryPanel.refreshContents();\n            }\n            this.waitOnJob(response);\n        },\n        waitOnJob(response) {\n            const jobId = response.data.jobs[0].id;\n            const handleJobShow = (jobResponse) => {\n                const state = jobResponse.data.state;\n                this.waitingJobState = state;\n                if (JobStatesModel.NON_TERMINAL_STATES.indexOf(state) !== -1) {\n                    setTimeout(doJobCheck, 1000);\n                } else if (JobStatesModel.ERROR_STATES.indexOf(state) !== -1) {\n                    this.state = \"error\";\n                    this.errorMessage =\n                        \"Unknown error encountered while running your upload job, this could be a server issue or a problem with the upload definition.\";\n                    this.doFullJobCheck(jobId);\n                } else {\n                    const Galaxy = getGalaxyInstance();\n                    const history = Galaxy && Galaxy.currHistoryPanel && Galaxy.currHistoryPanel.model;\n                    history.refresh();\n                    this.oncreate();\n                }\n            };\n            const doJobCheck = () => {\n                axios.get(`${getAppRoot()}api/jobs/${jobId}`).then(handleJobShow).catch(this.renderFetchError);\n            };\n            setTimeout(doJobCheck, 1000);\n        },\n        doFullJobCheck(jobId) {\n            const handleJobShow = (jobResponse) => {\n                const stderr = jobResponse.data.stderr;\n                if (stderr) {\n                    let errorMessage = \"An error was encountered while running your upload job. \";\n                    if (stderr.indexOf(\"binary file contains inappropriate content\") > -1) {\n                        errorMessage +=\n                            \"The problem may be that the batch uploader will not automatically decompress your files the way the normal uploader does, please specify a correct extension or upload decompressed data.\";\n                    }\n                    errorMessage += \"Upload job completed with standard error: \" + stderr;\n                    this.errorMessage = errorMessage;\n                }\n            };\n            axios.get(`${getAppRoot()}api/jobs/${jobId}?full=True`).then(handleJobShow).catch(this.renderFetchError);\n        },\n        renderFetchError(error) {\n            this.state = \"error\";\n            if (error.response) {\n                console.log(error.response);\n                this.errorMessage = error.response.data.err_msg;\n            } else {\n                console.log(error);\n                this.errorMessage = \"Unknown error encountered: \" + error;\n            }\n        },\n        swapOrientation() {\n            this.orientation = this.orientation == \"horizontal\" ? \"vertical\" : \"horizontal\";\n            const hotTable = this.$refs.hotTable.table;\n            if (this.orientation == \"horizontal\") {\n                this.$nextTick(function () {\n                    const fullWidth = $(\".rule-builder-body\").width();\n                    hotTable.updateSettings({\n                        width: fullWidth,\n                    });\n                });\n            } else {\n                this.$nextTick(function () {\n                    const fullWidth = $(\".rule-builder-body\").width();\n                    hotTable.updateSettings({\n                        width: fullWidth - 270,\n                    });\n                });\n            }\n        },\n        createCollection() {\n            const asJson = {\n                rules: this.rules,\n                mapping: this.mapping,\n            };\n            var arrayOfColumns = this.mapping.flatMap((m) => m.columns);\n            if (arrayOfColumns.some((m) => m >= this.colHeaders.length)) {\n                this.errorMessage = \"You have undefined columns in your rules.\";\n                this.state = \"error\";\n                return;\n            }\n            this.saveSession(JSON.stringify(asJson));\n            this.state = \"wait\";\n            const name = this.collectionName;\n            const collectionType = this.collectionType;\n            if (this.elementsType == \"datasets\" || this.elementsType == \"library_datasets\") {\n                const elements = this.creationElementsFromDatasets();\n                if (this.state !== \"error\") {\n                    new AjaxQueue.AjaxQueue(\n                        _.map(elements, (elements, name) => {\n                            return () => {\n                                const response = this.creationFn(elements, collectionType, name, this.hideSourceItems);\n                                return response;\n                            };\n                        })\n                    )\n                        .done(this.oncreate)\n                        .fail(this.renderFetchError);\n                }\n            } else if (this.elementsType == \"collection_contents\") {\n                this.resetSource();\n                if (this.state !== \"error\") {\n                    this.saveRulesFn(this.ruleSourceJson);\n                    this.oncreate();\n                }\n            } else {\n                const Galaxy = getGalaxyInstance();\n                const historyId = Galaxy.currHistoryPanel.model.id;\n                let elements;\n                let targets;\n                if (collectionType) {\n                    targets = [];\n                    const elementsByCollectionName = this.creationElementsForFetch();\n                    for (const collectionName in elementsByCollectionName) {\n                        const target = {\n                            destination: { type: \"hdca\" },\n                            elements: elementsByCollectionName[collectionName],\n                            collection_type: collectionType,\n                            name: collectionName,\n                        };\n                        if (this.addNameTag) {\n                            target[\"tags\"] = [\"name:\" + collectionName];\n                        }\n                        targets.push(target);\n                    }\n                } else {\n                    elements = this.creationDatasetsForFetch();\n                    targets = [\n                        {\n                            destination: { type: \"hdas\" },\n                            elements: elements,\n                            name: name,\n                        },\n                    ];\n                }\n\n                if (this.state !== \"error\") {\n                    axios\n                        .post(`${getAppRoot()}api/tools/fetch`, {\n                            history_id: historyId,\n                            targets: targets,\n                            auto_decompress: true,\n                        })\n                        .then(this.refreshAndWait)\n                        .catch(this.renderFetchError);\n                }\n            }\n        },\n        identifierColumns() {\n            const mappingAsDict = this.mappingAsDict;\n            let identifierColumns = [];\n            if (mappingAsDict.list_identifiers) {\n                identifierColumns = mappingAsDict.list_identifiers.columns.slice();\n            }\n            if (this.mappingAsDict.paired_identifier) {\n                identifierColumns.push(this.mappingAsDict.paired_identifier.columns[0]);\n            }\n            return identifierColumns;\n        },\n        buildRequestElements(createDatasetDescription, createSubcollectionDescription, subElementProp) {\n            const data = this.hotData.data;\n            const identifierColumns = this.identifierColumns();\n            if (identifierColumns.length < 1) {\n                console.log(\"Error but this shouldn't have happened, create button should have been disabled.\");\n                return;\n            }\n\n            const numIdentifierColumns = identifierColumns.length;\n            const collectionType = this.collectionType;\n            const elementsByName = {};\n\n            const dataByCollection = {};\n            const collectionNameMap = this.mappingAsDict.collection_name;\n            if (collectionNameMap) {\n                const collectionNameTarget = collectionNameMap.columns[0];\n                for (const dataIndex in data) {\n                    const row = data[dataIndex];\n                    const name = row[collectionNameTarget];\n                    if (!dataByCollection[name]) {\n                        dataByCollection[name] = {};\n                    }\n                    dataByCollection[name][dataIndex] = row;\n                }\n            } else {\n                // use global collection name from the form.\n                dataByCollection[this.collectionName] = data;\n            }\n\n            for (const collectionName in dataByCollection) {\n                const elements = [];\n                const identifiers = [];\n\n                for (const dataIndex in dataByCollection[collectionName]) {\n                    const rowData = data[dataIndex];\n\n                    // For each row, find place in depth for this element.\n                    let collectionTypeAtDepth = collectionType;\n                    let elementsAtDepth = elements;\n                    let identifiersAtDepth = identifiers;\n\n                    for (\n                        let identifierColumnIndex = 0;\n                        identifierColumnIndex < numIdentifierColumns;\n                        identifierColumnIndex++\n                    ) {\n                        // typeof indicates identifier is a string, but the raw string value coming from this data\n                        // structure sometimes does not work as expected with indexOf below, I don't understand why\n                        // but as a result this cast here seems needed.\n                        let identifier = String(rowData[identifierColumns[identifierColumnIndex]]);\n                        if (identifierColumnIndex + 1 == numIdentifierColumns) {\n                            // At correct final position in nested structure for this dataset.\n                            if (collectionTypeAtDepth === \"paired\") {\n                                if ([\"f\", \"1\", \"r1\", \"forward\"].indexOf(identifier.toLowerCase()) > -1) {\n                                    identifier = \"forward\";\n                                } else if ([\"r\", \"2\", \"r2\", \"reverse\"].indexOf(identifier.toLowerCase()) > -1) {\n                                    identifier = \"reverse\";\n                                } else {\n                                    this.state = \"error\";\n                                    this.errorMessage =\n                                        \"Unknown indicator of paired status encountered - only values of F, R, 1, 2, R1, R2, forward, or reverse are allowed.\";\n                                    return;\n                                }\n                            }\n                            const element = createDatasetDescription(dataIndex, identifier);\n                            elementsAtDepth.push(element);\n                            if (identifiersAtDepth.indexOf(identifier) >= 0) {\n                                this.state = \"error\";\n                                this.errorMessage =\n                                    \"Duplicate identifiers detected, collection identifiers must be unique.\";\n                                return;\n                            }\n                            identifiersAtDepth.push(identifier);\n                        } else {\n                            // Create nesting for this element.\n                            collectionTypeAtDepth = collectionTypeAtDepth.split(\":\").slice(1).join(\":\");\n                            let found = false;\n                            for (const element of elementsAtDepth) {\n                                if (element[\"name\"] == identifier) {\n                                    elementsAtDepth = element[subElementProp];\n                                    identifiersAtDepth = identifiersAtDepth[identifier];\n                                    found = true;\n                                    break;\n                                }\n                            }\n                            if (!found) {\n                                const subcollection = createSubcollectionDescription(identifier);\n                                elementsAtDepth.push(subcollection);\n                                identifiersAtDepth[identifier] = [];\n                                const childCollectionElements = [];\n                                subcollection[subElementProp] = childCollectionElements;\n                                subcollection.collection_type = collectionTypeAtDepth;\n                                elementsAtDepth = childCollectionElements;\n                                identifiersAtDepth = identifiersAtDepth[identifier];\n                            }\n                        }\n                    }\n                }\n\n                elementsByName[collectionName] = elements;\n            }\n\n            return elementsByName;\n        },\n        creationElementsFromDatasets() {\n            const { sources, data } = this.hotData;\n            const mappingAsDict = this.mappingAsDict;\n\n            const elementsByCollectionName = this.buildRequestElements(\n                (dataIndex, identifier) => {\n                    const source = sources[dataIndex];\n                    const res = this._datasetFor(dataIndex, data, mappingAsDict);\n                    const src = this.elementsType == \"datasets\" ? \"hda\" : \"ldda\";\n                    return { id: source[\"id\"], name: identifier, src: src, tags: res.tags };\n                },\n                (identifier) => {\n                    return { name: identifier, src: \"new_collection\" };\n                },\n                \"element_identifiers\"\n            );\n            return elementsByCollectionName;\n        },\n        creationElementsForFetch() {\n            // fetch elements for HDCA\n            const data = this.hotData.data;\n            const mappingAsDict = this.mappingAsDict;\n\n            const elementsByCollectionName = this.buildRequestElements(\n                (dataIndex, identifier) => {\n                    const res = this._datasetFor(dataIndex, data, mappingAsDict);\n                    res[\"name\"] = identifier;\n                    return res;\n                },\n                (identifier) => {\n                    return { name: identifier };\n                },\n                \"elements\"\n            );\n\n            return elementsByCollectionName;\n        },\n        creationDatasetsForFetch() {\n            // fetch elements for HDAs if not collection information specified.\n            const data = this.hotData.data;\n            const mappingAsDict = this.mappingAsDict;\n\n            const datasets = [];\n\n            for (const dataIndex in data) {\n                const res = this._datasetFor(dataIndex, data, mappingAsDict);\n                datasets.push(res);\n            }\n\n            return datasets;\n        },\n        populateElementsFromCollectionDescription(elements, collectionType, parentIdentifiers_) {\n            const parentIdentifiers = parentIdentifiers_ ? parentIdentifiers_ : [];\n            let data = [];\n            let sources = [];\n            for (const element of elements) {\n                const elementObject = element.object;\n                const identifiers = parentIdentifiers.concat([element.element_identifier]);\n                const collectionTypeLevelSepIndex = collectionType.indexOf(\":\");\n                if (collectionTypeLevelSepIndex === -1) {\n                    // Flat collection at this depth.\n                    // sources are the elements\n                    data.push([]);\n                    const source = { identifiers: identifiers, dataset: elementObject, tags: elementObject.tags };\n                    sources.push(source);\n                } else {\n                    const restCollectionType = collectionType.slice(collectionTypeLevelSepIndex + 1);\n                    const elementObj = this.populateElementsFromCollectionDescription(\n                        elementObject.elements,\n                        restCollectionType,\n                        identifiers\n                    );\n                    const elementData = elementObj.data;\n                    const elementSources = elementObj.sources;\n                    data = data.concat(elementData);\n                    sources = sources.concat(elementSources);\n                }\n            }\n            return { data, sources };\n        },\n        highlightColumn(n) {\n            const headerSelection = $(`.htCore > thead > tr > th:nth-child(${n + 1})`);\n            headerSelection.addClass(\"ht__highlight\");\n            const bodySelection = $(`.htCore > tbody > tr > td:nth-child(${n + 1})`);\n            bodySelection.addClass(\"rule-highlight\");\n        },\n        unhighlightColumn(n) {\n            const headerSelection = $(`.htCore > thead > tr > th:nth-child(${n + 1})`);\n            headerSelection.removeClass(\"ht__highlight\");\n            const bodySelection = $(`.htCore > tbody > tr > td:nth-child(${n + 1})`);\n            bodySelection.removeClass(\"rule-highlight\");\n        },\n        _datasetFor(dataIndex, data, mappingAsDict) {\n            const res = {};\n            if (mappingAsDict.url) {\n                const urlColumn = mappingAsDict.url.columns[0];\n                let url = data[dataIndex][urlColumn];\n                if (url.indexOf(\"://\") == -1) {\n                    // special case columns containing SRA links. EBI serves these a lot\n                    // faster over FTP.\n                    if (url.indexOf(\"ftp.sra.\") !== -1) {\n                        url = \"ftp://\" + url;\n                    } else {\n                        url = \"http://\" + url;\n                    }\n                }\n                res[\"url\"] = url;\n                res[\"src\"] = \"url\";\n            } else if (mappingAsDict.ftp_path) {\n                const ftpPathColumn = mappingAsDict.ftp_path.columns[0];\n                const ftpPath = data[dataIndex][ftpPathColumn];\n                res[\"ftp_path\"] = ftpPath;\n                res[\"src\"] = \"ftp_import\";\n            }\n            if (mappingAsDict.dbkey) {\n                const dbkeyColumn = mappingAsDict.dbkey.columns[0];\n                const dbkey = data[dataIndex][dbkeyColumn];\n                res[\"dbkey\"] = dbkey;\n            } else if (this.genome) {\n                res[\"dbkey\"] = this.genome;\n            }\n            if (mappingAsDict.file_type) {\n                const fileTypeColumn = mappingAsDict.file_type.columns[0];\n                const fileType = data[dataIndex][fileTypeColumn];\n                res[\"ext\"] = fileType;\n            } else if (this.extension) {\n                res[\"ext\"] = this.extension;\n            }\n            if (mappingAsDict.name) {\n                const nameColumn = mappingAsDict.name.columns[0];\n                const name = data[dataIndex][nameColumn];\n                res[\"name\"] = name;\n            }\n            if (mappingAsDict.info) {\n                const infoColumn = mappingAsDict.info.columns[0];\n                const info = data[dataIndex][infoColumn];\n                res[\"info\"] = info;\n            }\n            const tags = [];\n            if (mappingAsDict.tags) {\n                const tagColumns = mappingAsDict.tags.columns;\n                for (const tagColumn of tagColumns) {\n                    const tag = data[dataIndex][tagColumn];\n                    tags.push(tag);\n                }\n            }\n            if (mappingAsDict.group_tags) {\n                const groupTagColumns = mappingAsDict.group_tags.columns;\n                for (const groupTagColumn of groupTagColumns) {\n                    const tag = data[dataIndex][groupTagColumn];\n                    tags.push(\"group:\" + tag);\n                }\n            }\n            if (mappingAsDict.name_tag) {\n                const nameTagColumn = mappingAsDict.name_tag.columns[0];\n                const nameTag = data[dataIndex][nameTagColumn];\n                tags.push(\"name:\" + nameTag);\n            }\n            if (tags.length > 0) {\n                res[\"tags\"] = tags;\n            }\n            return res;\n        },\n    },\n    created() {\n        if (this.elementsType !== \"collection_contents\") {\n            let columnCount = null;\n            if (this.elementsType == \"datasets\") {\n                for (const element of this.initialElements) {\n                    if (element.history_content_type == \"dataset_collection\") {\n                        this.errorMessage =\n                            \"This component can only be used with datasets, you have specified one or more collections.\";\n                        this.state = \"error\";\n                    }\n                }\n            } else {\n                for (const row of this.initialElements) {\n                    if (columnCount == null) {\n                        columnCount = row.length;\n                    } else {\n                        if (columnCount != row.length) {\n                            this.jaggedData = true;\n                            break;\n                        }\n                    }\n                }\n            }\n\n            // TODO: provider...\n            UploadUtils.getUploadDatatypes(false, UploadUtils.AUTO_EXTENSION)\n                .then((extensions) => {\n                    this.extensions = extensions;\n                    this.extension = UploadUtils.DEFAULT_EXTENSION;\n                })\n                .catch((err) => {\n                    console.log(\"Error in RuleCollectionBuilder, unable to load datatypes\", err);\n                });\n\n            // TODO: provider...\n            UploadUtils.getUploadGenomes(UploadUtils.DEFAULT_GENOME)\n                .then((genomes) => {\n                    this.genomes = genomes;\n                    this.genome = UploadUtils.DEFAULT_GENOME;\n                })\n                .catch((err) => {\n                    console.log(\"Error in RuleCollectionBuilder, unable to load genomes\", err);\n                });\n        }\n    },\n    watch: {\n        addColumnRegexType: function (val) {\n            if (val == \"groups\") {\n                this.addColumnRegexGroupCount = 1;\n            }\n            if (val == \"replacement\") {\n                this.addColumnRegexReplacement = null;\n            }\n        },\n    },\n    components: {\n        TooltipOnHover,\n        HotTable,\n        RuleComponent,\n        RuleTargetComponent,\n        SavedRulesSelector,\n        RuleDisplay,\n        IdentifierDisplay,\n        ColumnSelector,\n        RegularExpressionInput,\n        StateDiv,\n        RuleModalHeader,\n        RuleModalMiddle,\n        RuleModalFooter,\n        Select2,\n    },\n};\n</script>\n\n<style src=\"../../node_modules/handsontable/dist/handsontable.full.css\"></style>\n<style>\n.table-column {\n    width: 100%;\n    overflow: hidden;\n}\n.select2-container {\n    min-width: 60px;\n}\n.vertical #hot-table {\n    width: 100%;\n    overflow: hidden;\n    height: 400px;\n}\n.horizontal #hot-table {\n    width: 100%;\n    overflow: hidden;\n    height: 250px;\n}\n.rule-builder-body {\n    height: 400px;\n}\n.rule-column.vertical {\n    height: 400px;\n}\n.rule-column.horizontal {\n    height: 150px;\n}\n.rules-container-full {\n    width: 100%;\n    height: 400px;\n}\n.rules-container {\n    border: 1px dashed #ccc;\n    padding: 5px;\n}\n.rules-container-vertical {\n    width: 300px;\n    height: 400px;\n}\n.rules-container-horizontal {\n    width: 100%;\n    height: 150px;\n}\n.rules-container .title {\n    font-weight: bold;\n}\n.rule-summary {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n}\n.rule-edit-buttons {\n    margin: 5px;\n}\n.rules {\n    flex-grow: 1;\n    overflow-y: scroll;\n}\n.rule-source {\n    height: 400px;\n}\n.rules li {\n    list-style-type: circle;\n    list-style-position: inside;\n    padding: 5px;\n    padding-top: 0px;\n    padding-bottom: 0px;\n}\n.rule-column-selector li {\n    list-style-type: circle;\n    list-style-position: inside;\n    padding: 5px;\n    padding-top: 0px;\n    padding-bottom: 0px;\n}\n.rules .rule-error {\n    display: block;\n    margin-left: 10px;\n    font-style: italic;\n    color: red;\n}\n.rule-warning {\n    display: block;\n    margin-left: 10px;\n    font-style: italic;\n    color: #e28809;\n}\n.rule-summary .title {\n    font-size: 1.1em;\n}\n.rule-highlight {\n    font-style: italic;\n    font-weight: bold;\n}\n.rules-buttons {\n}\n.rule-footer-inputs label {\n    padding-left: 20px;\n    align-self: baseline;\n}\n.rule-footer-inputs .select2-container {\n    align-self: baseline;\n}\n.rule-footer-inputs {\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: wrap;\n    align-items: baseline;\n}\n.rule-footer-inputs input {\n    align-self: baseline;\n}\n.extension-select {\n    flex: 1;\n    max-width: 120px;\n    min-width: 60px;\n}\n.genome-select {\n    flex: 1;\n    max-width: 300px;\n    min-width: 120px;\n}\n.collection-name {\n    flex: 1;\n    min-width: 120px;\n    max-width: 500px;\n}\n.rule-footer-genome-group {\n    flex: 2;\n    display: flex;\n}\n.rule-footer-extension-group {\n    flex: 1;\n    display: flex;\n}\n.rule-footer-name-group {\n    flex: 3;\n    display: flex;\n    flex-direction: row-reverse;\n}\n.fa-edit,\n.fa-times,\n.fa-wrench {\n    cursor: pointer;\n}\n.fa-history {\n    cursor: pointer;\n}\n.menu-option {\n    padding-left: 5px;\n}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleCollectionBuilder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RuleCollectionBuilder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RuleCollectionBuilder.vue?vue&type=template&id=b7a56d16&\"\nimport script from \"./RuleCollectionBuilder.vue?vue&type=script&lang=js&\"\nexport * from \"./RuleCollectionBuilder.vue?vue&type=script&lang=js&\"\nimport style0 from \"../../node_modules/handsontable/dist/handsontable.full.css?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./RuleCollectionBuilder.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}